<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" dir="rtl" lang="fa-IR">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" dir="rtl" lang="fa-IR">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html dir="rtl" lang="fa-IR">
<!--<![endif]-->
    <head>
        <meta charset="utf-8"/>
<meta content="IE-edge,chrome=1" http-equiv="X-UA-Compatable"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="keywords" content="SOLID,DependencyManagement,CleanCode, ProgrammingFundamental,SOLID"/>
<meta name="author" content="Sadra Isapanah Amlashi | صدرا عیسی پناه املشی"/>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script>
    (function(b,l,e,g,h,f){1!==parseInt(e.msDoNotTrack||b.doNotTrack||e.doNotTrack,10)&&b.addEventListener("load",function(){var r=(new Date).getTime();b.galite=b.galite||{};var m=new XMLHttpRequest,n="https://www.google-analytics.com/collect?cid="+(l.uid=l.uid||Math.random()+"."+Math.random())+"&v=1&tid="+galite.UA+"&dl="+f(h.location.href)+"&ul=en-us&de=UTF-8",a=function(b){var d="",c;for(c in b){if(void 0===b[c])return!1;d+=f(b[c])}return d},p={dt:[h.title],sd:[g.colorDepth,"-bit"],sr:[g.availHeight,
        "x",g.availWidth],vp:[innerWidth,"x",innerHeight],dr:[h.referrer]},k;for(k in p){var q=k+"="+a(p[k]);q&&(n+="&"+q)}a=function(b,d){var c="",a;for(a in d)c+="&"+a+"="+f(d[a]);return function(){var a=n+c+(galite.anonymizeIp?"&aip=1":"")+"&t="+f(b)+"&z="+(new Date).getTime();if(e.sendBeacon)e.sendBeacon(a);else try{m.open("GET",a,!1),m.send()}catch(t){(new Image).src=a}}};setTimeout(a("pageview",null),100);b.addEventListener("unload",a("timing",{utc:"JS Dependencies",utv:"unload",utt:(new Date).getTime()-
    r}))})})(window,localStorage,navigator,screen,document,encodeURIComponent);

    var galite = galite || {};
    galite.UA = 'UA-107934487-1'; // Insert your tracking code here
</script>

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@sadra_amlashi" />
<meta name="twitter:creator" content="@sadra_amlashi" />

<meta property="og:type" content="website" />
<meta property="og:locale" content="fa_IR" />
<meta property="og:url" content="https://isapanah.com/2018/solid" />


<meta name="description" content="در این پست درباره مدیریت وابستگی صحبت کرده و بصورت گذرا اصول ۵ گانه SOLID را بررسی کرده‌ام."/>
<meta property="og:description" content="در این پست درباره مدیریت وابستگی صحبت کرده و بصورت گذرا اصول ۵ گانه SOLID را بررسی کرده‌ام."/>
<meta name="twitter:description" content="در این پست درباره مدیریت وابستگی صحبت کرده و بصورت گذرا اصول ۵ گانه SOLID را بررسی کرده‌ام."/>




<title>اصول ۵ گانه SOLID - مقدماتی | صدرا املشی</title>
<meta property="twitter:title" content="اصول ۵ گانه SOLID - مقدماتی | صدرا املشی"/>
<meta property="og:site_name" content="اصول ۵ گانه SOLID - مقدماتی | صدرا املشی"/>
<meta property="og:title" content="اصول ۵ گانه SOLID - مقدماتی | صدرا املشی"/>



<meta property="twitter:image" content="https://isapanah.com/assets/img/post/2018-12-10/solid-cover.png" />
<meta property="og:image" content="https://isapanah.com/assets/img/post/2018-12-10/solid-cover.png" />


<link rel="alternate" type="application/rss+xml" title="وبلاگ صدرا املشی » Feed" href="/site-map.xml"/>
<link rel="alternative" href="/site-map.xml" title="وبلاگ صدرا املشی" type="application/atom+xml"/>
<link rel="short icon" type="image/x-icon" href="https://isapanah.com/assets/img/base/favicon.png"/>
<link rel="stylesheet" type="text/css" href="https://isapanah.com/assets/css/styles.css"/>
    </head>

    <body dir="rtl" lang="Farsi" >
        <!-- Header -->
<header class="header-rtl">
    <nav class="nav-wrap">
        <a href="/" class="nav-logo">وبلاگ صدرا املشی</a>
        <ul class="navigation">

            <li><a href="/">یادداشت‌ها</a></li>
            <li><a href="/list/items">موضوعات</a></li>
            <li><a href="/about">درباره</a></li>
            <li><a href="http://cv.isapanah.com/">رزومه</a></li>
            <li><a href="https://sadra.github.io/english">English</a></li>

        </ul>
    </nav>
</header>
<!-- /Header -->

        <script xmlns:date="http://www.w3.org/1999/xhtml">

    window.onscroll = function() {scrollFunction()};

    function scrollFunction() {
        document.getElementById("back-to-top").style.display = (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) ? "block" : "none";
    }

    function topFunction() {
        document.body.scrollTop = 0; // For Safari
        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    }

</script>


<div class="content">

    <div class="blog-post-container">

        <div class="post-title-container">
            <h1 class="post-title">اصول ۵ گانه SOLID - مقدماتی</h1>
        </div>

        <div class="post_created">

            <div class="author_avatar">
                <img src="/assets/img/base/avatar.jpg" alt="صدرا املشی" id="avatar-img" />
            </div>

            <div class="post_info">
                <p> <a href="/about">صدرا املشی</a> </p>
                <small>توسعه دهنده</small><br/>
                <small>دوشنبه 19 آذر 1397</small>
            </div>

        </div>

        
        <div class="post-cover">
            <img src="https://isapanah.com/assets/img/post/2018-12-10/solid-cover.png" alt="اصول ۵ گانه SOLID - مقدماتی">
        </div>
        

        <div class="post-content">
            <h2 id="مقدمه">مقدمه</h2>

<p>تصمیم دارم در مجموعه‌ای از پست‌های بهم پیوسته، مهم‌ترین اصول برنامه نویسی را بررسی کرده و با آنها آشنا شویم. اصولی مانند SOLID، DesignPattern، تست نویسی و غیره. تمامی این اصول و مفاهیم تا حدود زیادی انتزاعی و گاهی حوصله سر بر هستند، تمام سعی‌ام را کرده ام که مفاهیم تا جای ممکن قابل لمس و درک باشند.</p>

<p>بخش بزرگی از مطالبی که در این سلسه پست‌ها خواهم نوشت، برگرفته از کتاب و ویدئوهای Bob C. Martin درباره Clean Code خواهد بود، باقی مطالب از تجربه‌های شخصی و مطالعات جسته گریخته‌ای است که در طی سالیان گذشته‌ داشته‌ام.</p>

<p><img src="/assets/img/post/2018-12-10/solid-1.jpg" alt="SOLID Fundemental" /></p>

<p>می‌خواهم در اولین گام، به یکی از مهمترین اصول برنامه نویسی یعنی SOLID  بپردازیم.</p>

<p>برای دسترسی سریعتر به هریک از عناوین این پست، می‌توانید از فهرست زیر استفاده کنید.</p>

<ul>
  <li><a href="#solid-چیست"><strong>SOLID چیست؟</strong></a></li>
  <li><a href="#مدیریت-وابستگی-یا-dependency-management"><strong>مدیریت وابستگی‌ یا Dependency Management</strong></a>
    <ul>
      <li><a href="#مدیریت-وابستگی-چیست"><strong>مدیریت وابستگی چیست؟</strong></a></li>
      <li><a href="#فاجعه-در-مدیریت-وابستگی"><strong>فاجعه در مدیریت وابستگی!</strong></a>
        <ul>
          <li><a href="#سختی-یا-rigidity"><strong>سختی یا Rigidity</strong></a>
            <ul>
              <li><a href="#چطور-بفهمیم-دچار-rigidty-شده-ایم"><strong>چطور بفهمیم دچار Rigidty شده ایم؟</strong></a></li>
              <li><a href="#دلایل-ابتلا-به-rigidity"><strong>دلایل ابتلا به Rigidity</strong></a></li>
            </ul>
          </li>
          <li><a href="#شکنندگی-یا-fragility"><strong>شکنندگی یا Fragility</strong></a>
            <ul>
              <li><a href="#چطور-بفهمیم-دچار-fragility-شده-ایم"><strong>چطور بفهمیم دچار Fragility شده ایم؟</strong></a></li>
              <li><a href="#دلایل-ابتلا-به-fragility"><strong>دلایل ابتلا به Fragility</strong></a></li>
            </ul>
          </li>
          <li><a href="#عدم-تحرک-یا-immobility"><strong>عدم تحرک یا Immobility</strong></a>
            <ul>
              <li><a href="#چطور-بفهمیم-دچار-immobility-شده-ایم"><strong>چطور بفهمیم دچار Immobility شده ایم؟</strong></a></li>
              <li><a href="دلایل-ابتلا-به-immobility"><strong>دلایل ابتلا به Immobility</strong></a></li>
            </ul>
          </li>
          <li><a href="#چسبناکی-یا-viscosity"><strong>چسبناکی یا Viscosity</strong></a>
            <ul>
              <li><a href="#چطور-بفهمیم-دچار-viscosity-شده-ایم"><strong>چطور بفهمیم دچار Viscosity شده ایم؟</strong></a></li>
              <li><a href="#دلایل-ابتلا-به-viscosity"><strong>دلایل ابتلا به Viscosity</strong></a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#پیچیدگی-های-غیر-ضروری"><strong>پیچیدگی ‌های غیر ضروری</strong></a></li>
  <li><a href="#مدیریت-وابستگی-ها-با-solid"><strong>مدیریت وابستگی‌ها با SOLID</strong></a></li>
  <li><a href="#جمع-بندی"><strong>جمع بندی</strong></a></li>
</ul>

<h2 id="solid-چیست">SOLID چیست؟</h2>

<p>اصول ۵ گانه طراحی شی گرا برای اولین بار توسط Uncle Bob تعریف شد؛ سپس در سال ۲۰۰۰ آقای Michael Feathers با استفاده از اولین حروف هریک از نام‌های این اصول ۵ گانه، نام SOLID را برای آنها انتخاب کرد.</p>

<p>وقتی این اصول با هم در طراحی و پیاده‌سازی یک برنامه اعمال می‌شوند، به احتمال زیاد آن سیستم قابلیت این را خواهد داشت که به آسانی قابل توسعه‌ و نگهداری باشد.</p>

<p><img src="/assets/img/post/2018-12-10/solid-2.jpg" alt="SOLID Fundemental" /></p>

<p>در حقیقت اصول سالید، دستورالعمل‌هایی هستند که می‌توان هنگام کار بر روی یک نرم‌افزار، آن‌ها را برای از بین بردن، عوامل نامطلوب در کد، اعمال کرد. اینکار از طریق فراهم آوردن چارچوبی انجام می‌گیرد که با استفاده از آن، برنامه‌نویس می‌تواند کد برنامه را اصلاح و بازسازی کند تا کدها توسعه‌پذیر و خواناتر شوند.</p>

<h2 id="مدیریت-وابستگی-یا-dependency-management">مدیریت وابستگی‌ یا Dependency Management</h2>

<p>قبل از اینکه شیرجه‌ای عمیق در SOLID بزنیم، لازم است تا با مدیریت وابستگی و مفاهیم مرتبط با آن آشنا بشویم.</p>

<h3 id="مدیریت-وابستگی-چیست">مدیریت وابستگی چیست؟</h3>

<p>کمتر دیده می‌شود که پروژه‌های نرم افزاری را بصورت ایزوله توسعه داده باشند. معمولا، یک پروژه وابستگی زیادی به فانکشن‌هایی با قابلیت استفاده مجدد دارد که بصورت لایبرری یا کامپوننت‌های جدا شده از سیستم مورد استفاده قرار می‌گیرند. مدیریت وابستگی، یک تکنیک برای شفاف سازی، حلِ پیچیدگی و استفاده از وابستگی‌های مورد نیاز یک پروژه است.</p>

<p><img src="/assets/img/post/2018-12-10/solid-3.jpg" alt="SOLID Fundemental" /></p>

<p>در توسعه نرم افزار، بزرگترین نگرانی، پایداری و انسجام همیشگی سیستم است؛ به بیانی دیگر، با افزایش وابستگی یک سیستم ویژگی‌هایی مانند استفاده مجدد، انعطاف پذیری و قابلیت نگهداری آن کاهش می‌یابد. مدیریت وابستگی (یا DM) به ما کمک می‌کند تا این وابستگی ها را کنترل و مدیریت کنیم.</p>

<p>مفاهیم و اصولی مانند SOLID یا Object-Oriented از ابزارها و تکنیکهای پر کاربرد در مدیریت وابستگی اند.</p>

<h3 id="فاجعه-در-مدیریت-وابستگی">فاجعه در مدیریت وابستگی!</h3>

<p>بقول Uncle Bob، سیستم‌هایی که مدیریت وابستگی در آن رعایت نمی‌شود این ۴ بو (Smell) را همراه خود خواهند داشت:</p>

<ul>
  <li>سختی یا Rigidity</li>
  <li>شکنندگی یا Fragility</li>
  <li>عدم تحرک یا Immobility</li>
  <li>چسبناکی یا Viscosity</li>
</ul>

<p>اما این ۴ بو چه هستند و چه تاثیری در سیستم ما دارند. در ادامه هرکدام از این ۴ مورد را به تفضیل بررسی خواهیم کرد.</p>

<h4 id="سختی-یا-rigidity">سختی یا Rigidity</h4>

<p>به ساده‌ترین زبان ممکن، سختی یا Rigidity یعنی ناتوانی در تغییر.</p>

<p><img src="/assets/img/post/2018-12-10/solid-4.jpg" alt="SOLID Fundemental" /></p>

<p>اما چه می‌شود که تغییر دادن یک سیستم سخت می‌شود؟ تغییر دادن یک سیستم زمانی سخت می‌شود که هزینه تغییر بالا رود! فرض کنید برای ساختن و تست گرفتن از یک سیستم باید ۲ ساعت وقت صرف کنید. اگر بعد از یک تغییر کوچک، مجبور شوید دوباره ۲ ساعت دیگر برای ساختن و تست گرفتن از آن سیستم وقت بگذارید، ریجیدیتی رخ داده است.</p>

<p>در نتیجه اگر برای تغییر دادن بخش کوچکی از کد مجبور شویم کل سیستم را مجددا rebuild کنیم، آنوقت آن سیستم سخت شده یا دچار Rigidty شده است.</p>

<h5 id="چطور-بفهمیم-دچار-rigidty-شده-ایم">چطور بفهمیم دچار Rigidty شده ایم؟</h5>

<ul>
  <li>وقتی به ازای هر تغییر کوچک مجبور شویم کل سیستم را rebuild کنیم.</li>
  <li>وقتی به ازای هر تغییر، زمان زیادی برای تست و ساخت یک سیستم صرف شود.</li>
</ul>

<p>درصورتی که بتوانیم راهی پیدا کنیم تا به ازای هر تغییر مجبور نشویم کل سیستم را دوباره بازسازی کنیم یا دست‌کم بتوانیم زمان تست و ساخت سیستم را به حداقل ممکن برسانیم، آنوقت از Rigidty جلوگیری کرده‌ایم.</p>

<p>اگر سیستم شما به ازای هر تغییر، وقت زیادی را جهت test و rebuild صرف می‌کند، نشانه این است که توسعه دهندگان کم حوصله و بی دقتی را در تیم خود دارید!</p>

<p><img src="/assets/img/post/2018-12-10/solid-5.png" alt="SOLID Fundemental" /></p>

<h5 id="دلایل-ابتلا-به-rigidity">دلایل ابتلا به Rigidity</h5>

<p>امیدوارم هیچگاه به Rigidity مبتلا نشوید! برای اینکه بتوانید از آن پیشگیری کنید، بهتر است دلایلی که سیستمِ شما را مبتلا به Rigidity می‌کند خوب بشناسید:</p>

<ul>
  <li><strong>کدها بصورت رویه‌ای یا Procedural نوشته شده اند:</strong> برای مثال تمام کد در یک فایل و بصورت تو در تو با if-else های مختلف و زیاد و بصورت به هم پیوسته و وابسته نوشته شده است.</li>
  <li><strong>هیچ مفهوم انتزاعی یا Abstraction در کد دیده نمی‌شود:</strong> این مورد وقتی اتفاق می‌افتد کدها در پایین‌ترین سطح ممکن نوشته شده باشد. در واقع بیش از حد به جزئیات توجه شده تا اینکه روی مفاهیم و خصوصیات شئ تمرکز شود. برای مثال به‌جای اینکه به خصوصیات یک شئ از طریق یک method یا property دسترسی داشته باشیم، با استفاده از یک پرچم ۱ بیتی در خانه nام حافظه، خصوصیت آن شئ را دریافت می‌کنیم.</li>
  <li><strong>کدها بصورت یک مفهوم کلی در سیستم تعبیه شده‌اند در حالی که با خصوصیاتی بسیار جزئی جهت استفاده در یک مورد خاص تعریف شده باشند:</strong> برای مثال یک کد HTML را در نظر بگیرید که قرار است یک table را با استفاده از داده‌های یک ماتریس چاپ کند درحالی که در کد تعریف کرده ایم تا Headerها پیش زمینه‌ای مشکی با فونت Bold و رنگ سفید داشته باشند.</li>
  <li><strong>کامپوننت‌ها اطلاعات زیادی درباره جزئیات یکدیگر دارند، وقتی که قرار است باهم ارتباط داشته باشند:</strong> برای مثال کلاسی داریم که یک Shape از <strong>مربع</strong> برای ما می‌سازد؛ از آن می‌خواهیم که مساحت مربع را بطور هاشور زده نمایش دهد؛ پس در آن فانکشنی می‌نویسیم که ضلع مربع را گرفته، آن را ضربدر خودش کند تا مساحت مربع بدست آمده و حدود origin های شکل چند ضعلی روی اسکرین بدست آید. سپس توسط فانکشن دیگری آن را بصورت هاشور زده نمایش می‌دهیم. مشکل جایی رخ می‌دهد که از همان کامپوننت - که مساحت اشکال را هاشور زده نمایش می‌دهد - بخواهیم یک Shape دیگر از <strong>دایره</strong> ساخته و مساحت آن را هاشور زده نمایش دهد!</li>
</ul>

<h4 id="شکنندگی-یا-fragility">شکنندگی یا Fragility</h4>

<p>مفهوم Fragility و Rigidity بسیار بهم نزدیک اند. درواقع شکنندگی و سختی، علت و معلول یکدیگر هستند. شکنندگی یا Fragility اشاره دارد به اینکه هر موقع تغییری در سیستم ایجاد می‌کنید در بخش (یا بخش‌های) دیگری از سیستم - که حتی هیچ ربطی با آن قسمت ندارد - با خطا و مشکل مواجه می‌شوید.</p>

<p>فرض کنید یک ماشین داریم که رادیوی آن مشکل دارد، رادیو را درست می‌کنیم و پس از روشن کردن ماشین متوجه می‌شویم که شیشه برقی کار نمی‌کند!</p>

<p><img src="/assets/img/post/2018-12-10/solid-6.gif" alt="SOLID Fundemental" /></p>

<p>همانطور که تغییرات افزایش پیدا می‌کنند، نگهداری سیستم نیز سخت تر می‌شود؛ زیرا هربار که تغییری در سیستم ایجاد می‌کنیم، در چندین نقطه دیگر خطاهایی پیدا می‌شود، این مورد تا آنجا ادامه پیدا می‌کند که هر تغییری در سیستم باعث سکته‌های ناقص نرم افزار می‌گردد!</p>

<p>این مشکل باعث می‌شود که تیم اعتبار خود را در نزد مدیران و مشتریان از دست دهد! چون به ازای هر تغییری یا فیچر جدیدی که برای تیم ارسال می‌شود نیاز به صرف زمان و هزینه زیادی جهت ایجاد تغییر، تست و ساختن محصول می‌شود و حتی باعث می‌گردد که پروژه ها دیرتر از موعو به مرحله تحویل برسند. در نهایت این امر موجب کاهش کیفیت در محصول می‌شود.</p>

<p><img src="/assets/img/post/2018-12-10/solid-7.gif" alt="SOLID Fundemental" /></p>

<h5 id="چطور-بفهمیم-دچار-fragility-شده-ایم">چطور بفهمیم دچار Fragility شده ایم؟</h5>

<ul>
  <li>مجبور شوید به ازای هر تغییر، تغییرات متوالی و زیادی در دیگر بخش‌ها ایجاد کنید.</li>
  <li>خطاهای جدیدی در بخش‌هایی رخ دهد که هیچ ربطی با تغییرات ندارند.</li>
  <li>جدا کردن بخشی از سیستم، مارا مجبور کند تا بعضی بخش‌ها را دوباره از نو باز نویسی کنیم.</li>
</ul>

<h5 id="دلایل-ابتلا-به-fragility">دلایل ابتلا به Fragility</h5>

<p>ابتلا به Fragility ممکن است دلایل مختلفی داشته باشد، اما مهمترین و اصلی‌ترین دلیل ابتلا به Fragility وابستگی و ایزوله نبودن کامپوننت‌ها و بخش‌های مختلف سیستم است، که با تغییر یک بخش، نیاز به تغییر بخش‌های دیگر داریم.</p>

<h4 id="عدم-تحرک-یا-immobility">عدم تحرک یا Immobility</h4>

<p>خاصیت عدم تحرک یا Immobility اشاره به این موضوع دارد که نتوانیم آن قسمت از کد یا کامپوننت را در دیگر بخش‌های سیستم استفاده کنیم. اگر در بخشی از سیستم احتیاج به ماژولی داشتیم که مشابه آن در قسمت دیگری از سیستم وجود دارد اما امکان استفاده مجدد در بخش دیگر به دلایل مختلف (مثل وجود برخی خصوصیات جزئی مثلا همان رنگ بک گراند با فونت فلان) وجود نداشت آنگاه دچار immobility شده‌ایم.</p>

<p>فرض کنید در بخشی از نرم افزار یک ماژول login با استفاده از username و passowrd ساخته ایم. حال تصمیم داریم آن ماژولِ لاگین را از سیستم جدا کرده و در جایی دیگر استفاده کنیم. اگر نتوانید به سرعت و آسانی آن تکه کد را جدا کرده و در سیستم یا بخش دیگر (بدون تغییر) مجددا استفاده کنید، آنگاه ماژول immobile است. درواقع نمی‌تواند حرکت کند!</p>

<p><img src="/assets/img/post/2018-12-10/solid-8.png" alt="SOLID Fundemental" /></p>

<p>وقتی سیستم immobile باشد، روزی که بخواهیم بخشی از سیستم را که به آن احتیاج داریم جدا کرده و در جای دیگری به کار بگیریم، این قضیه آنقدر سخت و ریسکی می‌شود که نهایتا ترجیح می‌دهیم بجای اینکه کد را مجددا استفاده کنیم، بشینیم و از ابتدا کدها را برای بخش جدید بازنویسی کنیم.</p>

<p>هنگامی که قصد آن را داشته باشیم تا بخشی از سیستم را جدا کرده و در بخش دیگری استفاده کنیم، در حالتی که کدها immobile باشد، دچار مشکل خواهیم شد؛ از آنجا که این عمل (بدلیل وجود جزئیات و وابستگی‌های بیش از حد) سخت و ریسکی است، توسعه دهنده ترجیح می‌دهد بجای استفاده مجدد کدها در جای مورد نظر، وقت زیادی گذاشته و از پایه دوباره کدها را بازنویسی کند. این عمل سبب دوباره کاری و داپلیکیت شدن کدها می‌شود. امیدوارم متوجه باشید که داپلیکیت شدن کدها چه عواقبی ممکن است داشته باشد.</p>

<h5 id="چطور-بفهمیم-دچار-immobility-شده-ایم">چطور بفهمیم دچار Immobility شده ایم؟</h5>

<ul>
  <li>
    <p>ماژول آنقدر پیچیده و وابسته به دیگر بخش‌ها شده که قابل جدا شدن نیست.</p>
  </li>
  <li>
    <p>ماژول قابل جدا شدن باشد، اما جدا کردن و استفاده کردن از آن در محیطی غیر از محیط اصلیِ آن، بسیار سخت و ریسکی باشد.</p>
  </li>
  <li>
    <p>نتوانید ماژول یا بخشی از کد را از سیستم جدا کرده و فورا بدون تغییر در آن، در جای دیگری استفاده کنید.</p>
  </li>
</ul>

<h5 id="دلایل-ابتلا-به-immobility">دلایل ابتلا به Immobility</h5>

<ul>
  <li>اصلی ترین دلیل ابتلا به immobility یا عدم تحرک، پرداختن به جزئیات بیش از حد و غیر ضروری در آن بخش از کد است.</li>
  <li>ماژول بیش از حد به محیط و envirement خودش وابسته باشد.</li>
  <li>ماژول بیش از یک وظیفه را بر دوش داشته باشد.</li>
</ul>

<p>برای مثال، همان ماژول لاگین را در نظر داشته باشید. این ماژول برای احراز هویت کاربر از یک database schema خاص در دیتابیس Redis استفاده می‌کند. این ماژول ابتدا به دیتابیس Redis وصل شده و سپس با توجه به آن schema خاص، کاربر را احراز هویت می‌کند. حال قصد داریم آن را در سرویسی دیگری استفاده کنیم که از MySQL استفاده می‌کند و از قضا schema آن سیستم نیز با schema سیستم قبلی متفاوت است. حال، <em>تو خود حدیث مفصل بخوان ازین مجمل!</em></p>

<h4 id="چسبناکی-یا-viscosity">چسبناکی یا Viscosity</h4>

<p>چسبناکی، ویسکوزیته یا Viscosity مقاومت در مقابل تغییر است. وقتی که ساخت مجدد و تست سیستم برای ما سخت می‌شود و ترجیح بدهیم از خیر تغییرات آن قسمت بگذریم، آنگاه کد ما viscous یا چسبناک است.</p>

<p>در هنگام طراحی هرموقع که نیاز به یک تغییر بود، یا آن را در نظر می‌گیریم و با پیدا کردن یک راه درست تغییر را ایجاد می‌کنیم، یا اینکه می‌توانیم یک راه سریع، کوتاه و البته کثیف برای آن پیدا کنیم. شرایط و محیط‌هایی که اغلب در آن کار می‌کنیم، مارا به سمت آن رویکرد سریع و کثیف هدایت می‌کنند.</p>

<p>وقتی زمانِ کامپایل شدن بیش از حد طول می‌کشد، بجای آنکه آن قسمت از کد که موجب این مشکل شده‌ است را تصحیح کنیم، تصمیم میگریم جایی را تغییر دهیم که نیازی ندارد مجددا کامل کامپایل شود.</p>

<p>وقتی که check-in یا check-outهای دیتا یا فایل‌ها زمان زیادی از سیستم بگیرد، تصمیم به تغییر جایی میگیریم که احتیاج به دسترسی به فایلهای کمتری را دارد.</p>

<p>اگر مستقر کردن محیط آنقدرها هم برای ما سخت نباشد، تصمیم می‌گیریم بجای تغییر در کد، دیتابیس را تغییر دهیم. زیرا اجرا کردن یک اسکریپت دیتابیس برای تغییرات، آسان‌تر و امن‌تر از دوباره deploy کردن کل اپلیکیشن است.</p>

<p>بنابراین کدی که خاصیت Viscosity آن بالا باشد، مارا مجبور می‌کند تا بجای ماژول یا آن بخش از سیستم، تغییرات را روی بخش‌هایی اجرا کنیم که کمترین مقاومت ممکن را دارند.</p>

<h5 id="چطور-بفهمیم-دچار-viscosity-شده-ایم">چطور بفهمیم دچار Viscosity شده ایم؟</h5>

<ul>
  <li>تغییر دادن آن بخش از سیستم آنقدر سخت و هزینه‌بر باشد که ترجیح دهیم جهت کاهش بار سیستم، بخش دیگری که کمتر مارا درگیر می‌کند را تغییر دهیم.</li>
</ul>

<h5 id="دلایل-ابتلا-به-viscosity">دلایل ابتلا به Viscosity</h5>

<ul>
  <li>عدم توجه توسعه دهندگان به کد یا حواله کردن بهبود و refactoring کد به زمان دیگر</li>
  <li>وابستگی بیش از حد ماژول‌ها یا بخش‌های سیستم به یکدیگر</li>
</ul>

<h3 id="پیچیدگی-های-غیر-ضروری">پیچیدگی های غیر ضروری</h3>

<p>یکی از مباحثی که معمولا در هنگام توسعه نرم افزار مطرح می‌شود این است که درباره آینده نرم افزار چه تصمیمی باید بگیرید؟ آیا فقط نیازهای کنونی خود را باید در طراحی لحاظ کنیم؟ یا اینکه باید یک دید باند مدت داشته و تمامی نیاز‌های آینده نرم افزار را در نظر داشته و در طراحی اعمال کنیم؟</p>

<p>به بیانی دیگر، آیا لازم است دستگیره‌هایی در سیستم جهت استفاده در آینده (دور یا نزدیک) قرار دهیم؟</p>

<p><img src="/assets/img/post/2018-12-10/solid-9.gif" alt="SOLID Fundemental" /></p>

<p>به ازای هر دستگیره‌ای که در طراحی لحاظ می‌کنید که (شاید) در آینده مورد  استفاده قرار گیرد، آن را پیچیده‌تر کرده و بار اضافی جهت توسعه و نگهداری به سیستم و تیم توسعه خود افزوده اید. اگر تنها نیازهای کنونی خود را در نظر داشته و سیستم را با استفاده از تکنیک‌هایی مدیریت وابستگی - که در آینده به آنها خواهم پرداخت - ایزوله و ماژولار تهیه کنید، آنگاه هم می‌توانید از پیچیدگی های غیر ضروری جلوگیری کرده و هم هیچکدام از آن چهار خصیصه نامطبوع را در سیستم خود تجربه نخواهید کرد.</p>

<p>هیچگاه هیچ سیستمی از همان ابتدا بد نیست. بدی‌ها یا آن خواص نامطبوع در طول زمان پدیدار می‌شوند. تصمیم‌های بدی که در مقاطع گوناگون میگیریم که حاصل بی‌توجهی و تجربه‌های غلط ما هستند، دلایل اصلی بوجود آمدن این خصایص نامطبوع و پیچیدگی‌های غیر ضروری اند.</p>

<blockquote>
  <p>گسترده شدن پیچیدگی‌ها، پیشرفت را سخت تر می‌کند و ما را بیشتر وسوسه می‌کند تا راه‌های میانبری برای کاهش این سختی پیدا کنیم که همان‌ها نیز به افزایش وابستگی و پیچیده‌تر شدن سیستم در آینده می‌انجامد. “َUncle Bob”</p>
</blockquote>

<h2 id="مدیریت-وابستگی-ها-با-solid">مدیریت وابستگی ها با SOLID</h2>

<p>مدیریت وابستگی موضوعی است که بیشترِ ما با آن سروکار داریم. هرموقع صفحه‌ی اسکرین را که پوشیده از کدهای پیچیده و بهم ریخته تماشا می‌کنیم، در حال تجربه‌ی ناخوشایندِ نتایجِ حاصل از مدیریت ضعیف در وابستگی هستیم. مدیریت ضعیف وابستگی منجر به کدهایی می‌شود که تغییر دادن آن سخت است، شکننده ‌است و قابل استفاده مجدد نیست. ما داریم راجع به آن ۴ بوی نامطبوع حرف می‌زنیم. از سویی دیگر، زمانی که وابستگی‌ها به خوبی مدیریت شوند کد انعطاف پذیر، قوی‌تر و قابل استفاده مجدد می‌شوند.</p>

<p>اصول ۵ گانه SOLID یکی از راه‌هاییست که به ما در مدیریت وابستگی‌ها کمک می‌کند. بهتر است نگاهی اجمالی به این اصول بیاندازیم:</p>

<div class="table-container dir-rtl pos-right ">
    <style type="text/css">
        .tb-center-middle{text-align:center!important;vertical-align:middle!important;}
        .tb-middle{text-align:right!important;vertical-align:middle!important;}
        .tb-body{font-size: 1em;color: #454545;font-weight: 100;line-height: 1.5em;}
    </style>
    <table class="tg">
      <tr>
        <th class="tb-center-middle">حرف اول</th>
        <th class="tb-center-middle">مخفف</th>
        <th class="tb-middle">مفهوم</th>
      </tr>
      <tr>
        <td class="tb-center-middle">S</td>
        <td class="tb-center-middle">Single responsibility principle</td>
        <td class="tb-middle tb-body"><span style="font-weight:bold">اصل تک‌وظیفه‌ای</span><br />یک کلاس باید تنها یک وظیفه داشته باشد (یک کلاس باید تنها یک دلیل برای تغییر داشته باشد و نه بیشتر)</td>
      </tr>
      <tr>
        <td class="tb-center-middle">O</td>
        <td class="tb-center-middle">Open–closed principle</td>
        <td class="tb-middle tb-body"><span style="font-weight:bold">اصل باز ـ بسته</span><br />اجزای نرم‌افزار باید نسبت به توسعه باز (یعنی پذیرای توسعه باشد) و نسبت به اصلاح بسته باشند (یعنی پذیرای اصلاح نباشد). (یعنی مثلاً برای افزودن یک ویژگی جدید به نرم‌افزار نیاز نباشد که بعضی از قسمت‌های کد را بازنویسی کرد، بلکه بتوان آن ویژگی را مانند پلاگین به راحتی به نرم‌افزار افزود)</td>
      </tr>
      <tr>
        <td class="tb-center-middle">L</td>
        <td class="tb-center-middle">Liskov substitution principle</td>
        <td class="tb-middle tb-body"><span style="font-weight:bold">اصل جانشینی لیسکو</span><br />اشیاءِ یک برنامه که از یک کلاس والد هستند، باید به راحتی و بدون نیاز به تغییر در برنامه، قابل جایگزینی با کلاس والد باشند.</td>
      </tr>
      <tr>
        <td class="tb-center-middle">I</td>
        <td class="tb-center-middle">Interface segregation principle</td>
        <td class="tb-middle tb-body"><span style="font-weight:bold">اصل تجزیهٔ (تفکیک) رابط</span><br />استفاده از چند رابط که هر کدام، فقط یک وظیفه را بر عهده دارد بهتر از استفاده از یک رابط چند منظوره است.</td>
      </tr>
      <tr>
        <td class="tb-center-middle">D</td>
        <td class="tb-center-middle">Dependency inversion principle</td>
        <td class="tb-middle tb-body"><span style="font-weight:bold">اصل وارونگی وابستگی</span><br />بهتر است که برنامه به تجرید(abstraction) وابسته باشد نه پیاده‌سازی</td>
      </tr>
    </table>
</div>

<h2 id="جمع-بندی">جمع بندی</h2>

<p>در این پست با اصول ۵گانه سالید آشنایی ابتدایی پیدا کردیم، سپس به مفهوم مدیریت وابستگی‌ها یا همان DM پرداختیم. با ۴ بوی نامطبوع کدهایی که مدیریت وابستگی در آن رعایت نشده آشنا شدیم، که عبارت بودند از:</p>

<ul>
  <li>سختی یا Rigidity</li>
  <li>شکنندگی یا Fragility</li>
  <li>عدم تحرک یا Immobility</li>
  <li>چسبناکی یا Viscosity</li>
</ul>

<p>در ادامه هرکدام را مفصلا بررسی کردیم. در نهایت به این نتیجه رسیدیم، برای اینکه کدهای ما بوی هیچکدام از این ۴تا را نگیرد، بهتر است از اصول و قوائد SOLID و دیگر ابزارهای DM استفاده کنیم. کلی حرف زدیم. اجازه بدید در پست‌های بعدی درباره هر یک از ۵ اصل SOLID صحبت کنیم.</p>

<p>اگه سوال یا موردی بود، مثل همیشه در <a href="https://twitter.com/sadra_amlashi">توییتر</a> یا در <a href="https://t.me/amlashi">تلگرام</a> میتونیم باهم در ارتباط باشیم. 😉🍷</p>

        </div>


        <div class="post-routes-list">
            
            <a class="category-link" href="/category/programmingfundamental">ProgrammingFundamental</a>
            
            <a class="category-link" href="/category/solid">SOLID</a>
            
            
            <a class="tag-link" href="/tag/solid">SOLID</a>
            
            <a class="tag-link" href="/tag/dependencymanagement">DependencyManagement</a>
            
            <a class="tag-link" href="/tag/cleancode">CleanCode</a>
            
        </div>


        <div class="Prev-next-post-container">
            
            <a class="previous-btn" href="/2018/sapiens">نوشته قبلی: انسان خردمند - تاریخ مختصر بشر! ←</a>
            
            
            <a class="next-btn" href="/2019/secure-mongo-in-2-steps">→ نوشته بعدی: امن کردن mongo در دو گام</a>
            
        </div>

        <div class="commets-delimiter-space"></div>
        <div class="commets-delimiter">
            <span></span>
        </div>

        <script
                data-isso-vote="true"
                data-isso-avatar="true"
                data-isso="https://isso.isapanah.com/"
                data-isso-lang="ru"
                src="https://isapanah.com/assets/js/embed.min.js"></script>

        <section id="isso-thread">
        </section>

    </div>

</div>

<a id="back-to-top" class="back-to-top" role="button" title="Click to return on the top page" data-toggle="tooltip" data-placement="left" onclick="topFunction()">
    <img src="/assets/img/base/arrow-up.png" class="arrow-up"/>
</a>


        <!-- Footer -->
<footer class="footer-wrapper">

    <div class="delimiter">
        <a href="/" class="footer-logo">
            <img src="https://isapanah.com/assets/img/base/favicon.png" class="logo-wrapper">
        </a>
    </div>

    <p class="footer-copyright">
        2008 - 2017<br>
        مطالب تحت لیسانس <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/" rel="license" target="_blank">کریتیو کامنز</a> منتشر می‌شوند.

    </p>

    <div class="footer-social-links">
        <a href="https://twitter.com/sadra-amlashi" title="Twitter" target="_blank"><i class="fa fa-twitter"></i></a>
        <a href="https://github.com/sadra" title="Github" target="_blank"><i class="fa fa-github"></i></a>
        <a href="https://medium.com/sadra" title="Medium" target="_blank"><i class="fa fa-medium"></i></a>
        <a href="https://www.linkedin.com/in/amlashisadra/" title="Linkedin" target="_blank"><i class="fa fa-linkedin"></i></a>
        <a href="https://facebook.com/sadra.am123" title="Facebook" target="_blank"><i class="fa fa-facebook"></i></a>
    </div>


 </footer>
<!-- /Footer -->

        
    </body>
</html>
