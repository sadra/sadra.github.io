---
layout: blog_post_rtl
title:  "Promise ุชุงุจุญุงู ูฺููุช ุงููุฏุฑ ุขุณูู ูุจูุฏู"
description: "ุฏุฑ ุงู ูพุณุช ูุตุฏ ุฏุงุฑู ุจู ุณุงุฏูโุชุฑู ุฑูุด ููฺฉู ุฑุงุฌุน ุจู Promiseูุง ู ุงูฺฉู ูุงูุนุง ฺุทูุฑ ุจุงุฏ ุงุฒุดูู ุงุณุชูุงุฏู ฺฉุฑุฏ ุตุญุจุช ฺฉูู."
date: '2017-11-27'

tags:
- Prmise
- RxJs
- JavaScript
- ES6

categories:
- ุฌุงูุง ุงุณฺฉุฑูพุช
- ุขููุฒุด

cover: /assets/img/post/2017-11-27/js-promise-cover.png

author: Sadra
---

## ููุฏูู

ุฎู ููุช ูพุด ุฏุฑ ุญู ุงูุฌุงู ฺฉ ูพุฑูฺู ุฏุฑ NodeJs ูุงุฒ ูพุฏุง ฺฉุฑุฏู ฺฉู ฺูุฏุชุง ูุชุฏ ุฑู ุจุตูุฑุช ูุชูุงู ู nested ุงุณุชูุงุฏู ฺฉููุ ู ูุชุฏ ูุง ูู ุจู ุงู ุตูุฑุช ุจูุฏ ฺฉู ุจุงุฏ ุตุจุฑ ูฺฉุฑุฏู ุชุง ุฏุงุฎู ุชุฑู ูุชุฏ ุงูุฌุงู ุจุดู ู ุจุนุฏ ูุชุฏ ุฎุงุฑุฌ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฌู ูุชุฏ ุฏุงุฎู ูุธูู ุฎูุฏุด ุฑู ุงูุฌุงู ุจุฏูุ ู ุงู ุชูุงู ุชุง ุขุฎุฑู ูุชุฏ ุฎุงุฑุฌ ุงุฏุงูู ุฏุงุดุช. (ุชุง ุฌุง ฺฉู ุงุฏู ูุงุฏ ุชุง ด ูุฑุญูู ูุณุช ุดุฏู ุจูุฏ.)

![Nested Blocks](/assets/img/post/2017-11-27/js-promise-nested-blocks.jpg)

ุฌุฏุง ุงุฒ ุงู ููุฑุฏุ ูุดฺฉู ุฏฺฏู ุง ฺฉู ูุฌูุฏ ุฏุงุดุชู ุงู ุจูุฏ ฺฉู ุงููุง ุงู ูุชุฏโูุง Async ุจูุฏูุ ู ุฏููุง ุงูฺฉู ููฺฉู ุจูุฏ ูุชุฌู sucessfull ุง failed ุจุดู. ุฎูุงุตู ุจู ูุฑ ฺฉุซุงูุช ฺฉู ุจูุฏ ฺฉุงุฑู ุงูุฌุงู ุฏุงุฏู.
ฺูุฏ ููุช ุจุนุฏ [ููุฏ](http://moshtaghi.ir/) ุจูู ฺฏูุช ฺฉู ูุชูู ุงุฒ **Promise** ุจุฑุง ุงู ูุนุถู ุงุณุชูุงุฏู ฺฉู. ู ุงูุฌูุฑ ุจูุฏ ฺฉู ุฒูุฏฺฏ ุฒุจุง ูโุดูุฏ!

![Yes](/assets/img/post/2017-11-27/js-promise-yeah.gif)

ุงุฒ ฺูุฏุชุง ุงุฒ ุฏูุณุชุงู ุดูุฏู ฺฉู ูููุฒ ูพุฑุงูุณ ุฑู ุฏุฑฺฉ ูฺฉุฑุฏู ู ููุฏููู ฺฉู ูุฑูุด ุจุง ฺุฒุง ุฏฺฏู ูุซู Callback ฺู. ุฏุฑ ุงู ูพุณุช ูุตุฏ ุฏุงุฑู ุจู ุณุงุฏูโุชุฑู ุฑูุด ููฺฉู ุฑุงุฌุน ุจู Promiseูุง ู ุงูฺฉู ูุงูุนุง ฺุทูุฑ ุจุงุฏ ุงุฒุดูู ุงุณุชูุงุฏู ฺฉุฑุฏ ุตุญุจุช ฺฉูู. ูพุณ ุญุฑู ุฑู ฺฉูุชุงู ฺฉูู ู ุจุฑู ุณุฑ ุงุตู ูุทูุจ.

ุฏุฑ ุงุฏุงูู ููุฑุณุช ุงุฒ ุณุฑูุตู ูุทุงูุจ ฺฉู ูุฎูุงู ุฏุฑ ุงู ูพุณุช ุตุญุจุช ฺฉูู ุจุง ููฺฉ ุจู ูููู ุชุชุฑ ูุฑุงุฑ ุฏุงุฏู.

*   [ุดุฑุญ](#subject)
*   [ุณุงุฎุชู ฺฉ Promise](#how-to-create-a-Promise)
*   [ุงุณุชูุงุฏู ุงุฒ Promise](#how-to-user-promise)
*   [ุฒูุฌุฑู Promiseูุง](#chain-of-promises)
*   [ูพุฑุงูุณโูุง Asynchronous ูุณุชูุฏ](#asynchronous-promise)
*   [ูพุฑุงูุณ ุฏุฑ ES5ุ ES6, ES7](#promises-in-variety-of-js)
    *   [ES5 - ุฏุฑ ุงฺฉุซุฑ ูุฑูุฑฺฏุฑูุง ูพุดุชุจุงู ูุดู](#promise-in-es5)
    *   [ES6 - ุฏุฑ ูุฑูุฑฺฏุฑูุง ูุฏุฑูุ ู NodeJs v6 ูพุดุชุจุงู ูุดู](#promise-in-es6)
    *   [ES7 - ุงุณุชูุงุฏู ุงุฒ Async Await ุณูุชฺฉุณ ุฑู ูุงุจู ุฎููุฏู ูฺฉูู](#promise-in-es7)
*   [ฺุฑุง ู ฺู ูููุน ุงุฒ Promise ุงุณุชูุงุฏู ฺฉููุ](#when-and-why-promises)
*   [ุฏูุง ูุจู ุงุฒ ูพุฑุงูุณ: Callback](#callback)
*   [ูุฑุงุฑ ุงุฒ Callback Hell](#scape-from-callback-hell)
*   [ุนุถู ุฌุฏุฏ ุงู ุฎุงููุงุฏู: Observables](#observable)
*   [ูุชุฌูโฺฏุฑ](#conclusion)

<h2 id="subject">ุดุฑุญ</h2>

ุจุฒุงุฑู ููู ุงูู ฺฉุงุฑุ ูพุฑุงูุณ ุฑู ุจุง ุทุฑุญ ฺฉ ูุซุงู ุจุฑุงุชูู ุณุงุฏู ฺฉูู:

> ูุฑุถ ฺฉูุฏ ู **ุจฺู** ูุณุชุฏ. ู **ูุงุฏุฑุชูู** ุจูุชูู **ููู ูุฏู** ฺฉู ููุชู ุฏฺฏู ู **ฺฏูุด ุฌุฏุฏ** ุจุฑุงุชูู ุจุฎุฑู.

ุดูุง ุงููุง ููโุฏููุฏ ฺฉู ุขุง ููุชู ุฏฺฏู ู ฺฏูุด ุจุฑุงุชูู ูุฎุฑู ุง ููุ ุซุงูุง ุงูฺฉู ุขุง ูุงูุนุง ูุงุฏุฑุชูู ุจุฑุง ุดูุง ู ฺฏูุด ุฌุฏุฏ ูุฎุฑูุ ุซุงูุซุง ููฺฉูู ุงุตูุง ุงูู ููุชู ุงุฒ ุฏุณุชุชูู ูุงุฑุงุญุช ุจุงุดู ู ฺฉูุง ุจุฎุงู ุฎุฑุฏ ฺฏูุด ุจุดู!

ุงู ฺฉุงููโุชุฑู ูุซุงู ุจูุฏ ฺฉู ุงุฒ Promise ูโุชููุณุชู ุจุฒูู. ูุฑ ูพุฑุงูุณ ณูุถุนุช ุฏุงุฑู:

1. ูพุฑุงูุณ ุฏุฑ ุญุงู ุจุฑุฑุณู **Pending**: ุดูุง ููโุฏููุฏ ฺฉู ุขุง ููุชู ุฏฺฏู ุจุฑุงุชูู ฺฏูุด ูุฎุฑู ุง ูู.
2. ูพุฑุงูุณ ุญู ุดุฏู **Resolved**: ูุงุฏุฑุชูู ูุงูุนุง ู ฺฏูุด ุฌุฏุฏ ุจุฑุงุชูู ุฎุฑุฏู.
3. ูพุฑุงูุณ ุฑุฏ ุดุฏู **Rejected**: ูุงุฏุฑุชูู ุจุฑุงุชูู ฺฏูุด ุฌุฏุฏ ูุฎุฑุฏูุ ฺูู ูุงูุนุง ุงุฒ ุฏุณุชุชูู ูุงุฑุงุญุช ุจูุฏู.

ุญุงูุง ฺฉู ุจุง ููููู ู ุญุงูุชโูุง ูพุฑุงูุณ ุขุดูุง ุดุฏุฏุ ุจุฑู ุจุจูู ฺฉู ฺุฌูุฑ ูุดู ุงุฒุด ุงุณุชูุงุฏู ฺฉุฑุฏ.

<h2 id="how-to-create-a-Promise">ุณุงุฎุชู ฺฉ Promise</h2>

ุงุฌุงุฒู ุจุฏุฏ ุฏุฑ ููู ุงููู ูุฏูุ ฺุฒูุง ฺฉู ุจุงูุง ฺฏูุชู ุฑู ุจู ฺฉุฏ ุฌุงูุง ุงุณฺฉุฑูพุช ุชุจุฏู ฺฉูู.

```javascript
/* ES6 */
let isMomHappy = false;

//Promise
let willGetNewPhone = new Promise(
  function(resolve, reject) {
    if(isMomHappy) {
      let phone = {
        brand: 'iPhone X',
        color: 'gray'
      };
      resolve(phone); //fulfilled
    } else {
      let reason = new Error('Mom is angry.')
      reject(reason); //reject
    }
  }
);
```

ูฺฉุฑ ูฺฉูู ฺฉู ุฎูุฏุด ุจู ุงูุฏุงุฒู ฺฉุงู ฺฏูุง ูุณุช.

1. ูุง ฺฉ ูุชุบุฑ ุจููู ุจูุงู `isMomHappy` ุฏุงุฑูุ ฺฉู ุจุฑุงููู ูุดุฎุต ูฺฉูู ุขุง ูุงูุงู OK ูุณุช ูุงุณู ุฎุฑุฏู ุง ูู.

2. ู ูพุฑุงูุณ ูู ุจูุงู `willGetNewPhone` ุฏุงุฑู. ฺฉู ุงู ูพุงุฑูุณุ ูู ูุชููู ุญู `Resolved` ุจุดู (ูุงูุงู ุจุฑุงุช ู ฺฏูุด ุฌุฏุฏ ุจุฎุฑู)ุ ูู ูุชููู ุฑุฏ `Rejected` ุจุดู (ูุงูุงู ุงุฒ ุฏุณุชุช ุนุตุจุงููุ ู ุนูุฑุง ุจุฑุงุช ฺฏูุด ุฌุฏุฏ ุจุฎุฑู).

   ฺฉ syntax ุงุณุชุงูุฏุงุฑุฏ ุจุฑุง ููุดุชู `Promise` ุฌุฏุฏ ูุฌูุฏ ุฏุงุฑู ฺฉู ุจุฑ ุงุณุงุณ [ุฏุงฺฉูููุช MDN](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise)ุ ุงู ุณูุชฺฉุณ ุงูุฌูุฑู:

```javascript
//Promise syntax looks like this
new Promise( /* executor */ function(resolve, reject) { ... } );
```

   ุชููุง ฺุฒูุง ฺฉู ูุงุฒูู ุจุฎุงุทุฑ ุจุณูพุงุฑู ุงู ฺฉูุ ููุช ูุชุฌู ฺฉุงุฑ ููููุชโุขูุฒูุ ุจุงุฏ ูุชุฏ `resolve(your_success_value)` ุฑู ูุฑุงุฎูุงู ฺฉุฑุฏูุ ู ุจู ูุฑ ุฏูู ุงฺฏู ูุชุฌู ููููุชโุขูุฒ ูุณุชุ ุจุงุฏ ูุชุฏ `reject(your_fail_value)` ุฑู ูุฑุงุฎูุงู ฺฉูุฏ. ูุฑุฏู ุงููุง ุจุงุฏ ุฏุฑ ุฏุงุฎู ูุชุฏ `Promise` ุงูุฌุงู ุจุดู.
   ููููุทูุฑ ูู ฺฉู ุฏุฑ ูุซุงู ูโุจูุฏ ุงุฒููุฌุง ฺฉู ูุงูุงู ุนุตุจุงู ุจูุฏุ ูุง ูุฌุจูุฑ ุดุฏู ุฏุฑุฎูุงุณุช ุฑู ุฑุฏ ฺฉุฑุฏู ู ุจุง ูุฑูุงุฎูุงู ูุชุฏ `reject(reason)` ู ูพุงุณ ฺฉุฑุฏู ููุฏุงุฑ reason ุงู ููููู ุฑู ุจู ุณุฑุงูุฌุงู ุจุฑุณููู. ุงูุจุชูุ ุงฺฏุฑูู ูุงูุงู ุงูฺฉ ุจูุฏ ู ฺฏูุด ุฌุฏุฏ ุฑู ุฎุฑุฏุ ุจุง ูุฑุงุฎูุงู ูุชุฏ `resolve` ุจู ููุฑุงู ููุฏุงุฑ JSON ุงุฒ ูุดุฎุตุงุช ฺฏูุด ุฎุฑุฏุงุฑ ุดุฏูุ ูุชุฌู **ููู** ุฑู ุงุนูุงู ูโฺฉุฑุฏู.

<h2 id="how-to-user-promise">ุงุณุชูุงุฏู ุงุฒ Promise</h2>

ุญุงูุง ฺฉู ูููุฏู ฺุทูุฑ ูุดู ู ูพุฑุงูุณ ุณุงุฎุชูุ ุจูุชุฑู ูุญูู ุงุณุชูุงุฏู ฺฉุฑุฏู ุงุฒุด ุฑู ูู ุงุฏ ุจฺฏุฑู.

```javascript
/* ES6 */
...
// call our promise
let askMom = function () {
    willGetNewPhone
		.then( function (fulfilled) {
			//yay, you got a new phone
			console.log(fulfilled);
			//output: { brand: 'iPhone X', color: 'gray' }
		}).catch( function (error) {
			//oops, mom don't buy it
			console.log(error.message);
			//output: 'Mom is angry.'
		});
}

askMom();
```

ุฏุฑ ุงูุฌุง ูุง ูุชุฏ `askMom` ุฑู ูุฑุงุฎูู ูฺฉูู. ู ุฏุฑ ุฏุงุฎู ุงููุ ูุชุฏ ูพุฑุงูุณ ฺฉู ุณุงุฎุชู ุจูุฏูุ ุนู `willGetNewPhone`ุ ุฑู ุตุฏุง ูุฒูู.

ูุง ูุฎูุงู ููุช ฺฉู ูพุฑุงูุณ ุจูููู ุฌูุงุจ ูุฏู ุจุชููู ุงฺฉุดู ููุงุณุจ ุฑู ูุดูู ุจุฏู. ุจุฑุง ููุงูุน ฺฉู ูพุงุณุฎ **resolve** ูุณุช ูุชุฏ `then` ุงุณุชูุงุฏู ูุดูุ ู ุจุฑุง ููุงูุน ฺฉู ูพุงุณุฎ **reject** ูุณุชุ ูุชุฏ `catch` ุตุฏุง ูุดู.

ุฏุฑ ุงู ูุซุงูุ ุฏุฑ ุฏุงุฎู `.then` ูุง ูุชุฏ `function(fulfilled) {โฆ}` ุฑู ุฏุงุฑู. ููุฏุงุฑ ุงู ูุชุบุฑู `fulfilled` ฺูุ ุฏููุง ูููู ฺุฒู ฺฉู ุดูุง ุฏุฑ ูุชุฏ `resolve(your-success_value)` ูพุงุณ ฺฉุฑุฏู. ฺฉู ุฏุฑ ุงูุฌุง ูููู ูุดุฎุตุงุช ฺฏูุด ุฌุฏุฏู ุณุช.

ูููุทูุฑ ุฏุฑ ุฏุงุฎู `.catchโ` ูู ูุชุฏ `function(error) {โฆ}` ุฑู ุฏุงุฑู. ฺฉู ููุฏุงุฑ `error` ุจุฑุงุจุฑ ุจุง ููุฏุงุฑ ูุณุช ฺฉู ูุง ุจุง `reject(your_fail_value)` ูพุงุณุด ฺฉุฑุฏู. ุฏุฑ ุงู ูุซุงู ููุฏุงุฑ error ุจุฑุงุจุฑ ุจูุฏ ุจุง ุฏูู ุฑุฌฺฉุช ุดุฏู ุฏุฑุฎูุงุณุช.

ุงุฌุงุฒู ุจุฏุฏ ฺฉุฏูุง ฺฉู ุชุง ุงูุงู ุฒุฏู ุฑู ุงุฌุฑุง ฺฉูู ู ูุชุฌู ฺฉุงุฑ ุฑู ุจุจูู.
ุงุฌุฑุง ุฏูู ุงุฒ [ุงู ููฺฉ](https://jsbin.com/luceriy/4/edit?js,console).

![Mom Promise Demo](/assets/img/post/2017-11-27/js-promise-mom-promise-demo.gif)

<h2 id="chain-of-promises">ุฒูุฌุฑู Promiseูุง</h2>

ูพุฑุงูุณโูุง ูุงุจูุช ุฒูุฌุฑู (ูุชูุงู) ุดุฏู ุฑู ุฏุงุฑูุฏ.

ุจุฑุง ูุซุงูุ ูุฑุถ ฺฉูุฏ ุดูุง ูููู ฺฉูุฏฺฉ ูุซุงู ูุจู ูุณุชุฏ. ุญุงูุง ุจู ุฏูุณุชุชูู **ููู ูโุฏุฏ** ฺฉู ููุช ูุงูุงู ูุงุณุชูู ฺฏูุด ุฌุฏุฏ ุฑู ุฎุฑุฏุ ุจูุด **ูุดูู ุจุฏุฏ.**

ุฎุจุ ูพุณ ุจุฑู ูพุฑุงูุณ ุจุนุฏ ุฑู ุจููุณู.

```javascript
...

// 2nd promise
let showNewPhone = function (phone) {
	return new Promise(
		function (resolve, reject){
			let message = 'Hey friend, I have a new ' + phone.color + ' ' + phone.brand + '.';
			resolve (message)
		}
	);
}
```

**ูฺฉุงุช:**

ุฏุฑ ุงู ูุซุงู ุงุญุชูุงูุง ูุชูุฌู ุดุฏุฏ ฺฉู ูุง ุงุฒ `reject` ุงุณุชูุงุฏู ูฺฉุฑุฏู. ุฎุจ ุงู ูุชุฏ ู ฺุฒ optional ู ุงูุชุฎุงุจูุ ููุท ูููุน ฺฉู ูุงุฒ ูุณุช ุงุฒุด ุงุณุชูุงุฏู ฺฉูุฏ.

ูุง ุญุช ูุชููู ุจุง ุงุณุชูุงุฏู ุงุฒ `Promise.solve` ุงู ูุชุฏ ุฑู ุณุงุฏูโุชุฑ ูู ุจููุณู .

```javascript
// shorten it
...

// 2nd promise
let showNewPhone = function (phone) {
	let message = 'Hey friend, I have a new ' + phone.color + ' ' + phone.brand +'.';
	return Promise.resolve(message)
}
```

ุฎุจุ ุญุงูุง ููุช ุฒูุฌุฑ ฺฉุฑุฏู ูพุฑุงูุณโูุงุณุช. ุดูุง - ุงูู ุจฺู ุฏุงุณุชุงู - ููุท ููุช ูโุชููุฏ ุจู ุฏูุณุชุชูู ุงูู ฺฏูุด ุฌุฏุฏ ุฑู ูุดูู ุจุฏุฏ `showNewPhone`ุ ุจุนุฏ ุงุฒ ุงูฺฉู ูุงูุงู ุงูู ฺฏูุด ุฑู ูุงุณุชูู ุฎุฑุฏู ุจุงุดู `willGetNewPhone`.

```javascript
...

// call our promise
let askMom = function () {
	willGetNewPhone
		.then(showNewPhone) // chain it here
		.then( function (fulfilled) {
			//yay, you got a new phone
			console.log(fulfilled);
			//output: 'Hey friend, I have a new gray iPhone X.'
		}).catch( function (error) {
			//oops, mom don't buy it
			console.log(error.message);
			//output: 'Mom is angry.'
		});
}
```

ุจู ููู ุฑุงุญุช ูโุชููุฏ ูพุฑุงูุณโูุง ุฑู ุจู ููู ุฒูุฌุฑ ฺฉูุฏ.

<h2 id="asynchronous-promise">ูพุฑุงูุณโูุง Asynchronous ูุณุชูุฏ</h2>

ุงู ุฎู ูุงุถุญู ฺฉู ูพุฑุงูุณโูุง ุขุณูฺฉุฑูู ูุณุชู. ุงุตูุง ุงุฌุงุฒู ุจุฏุฏ ุจุฑุง ุงุซุจุงุช ุงู ููุถูุน ฺูุฏุชุง ูุงฺฏ ุจูุฏุงุฒู.

```javascript
// call our promise
let askMom = function () {
    console.log('before asking Mom'); // log before
    willGetNewPhone
		.then(showNewPhone)
		.then(function (fulfilled) {
			console.log(fulfilled);
		}).catch(function (error) {
			console.log(error.message);
		});
    console.log('after asking mom'); // log after
}
```

ูฺฉุฑ ูโฺฉูุฏ ูุชุฌูโ ฺ ูุดูุ ุงุญุชูุงูุง ุงูุชุธุงุฑ ุฏุงุฑุฏ ููฺู ฺุฒ ุฏุฑุงูุช ฺฉูุฏ:

```Log
1. before asking Mom
2. Hey friend, I have a new black Samsung phone.
3. after asking mom
```

ูู ฺุฒ ฺฉู ูุงูุนุง ุฏุฑุงูุช ูฺฉูู ุงูู:

```Log
1. before asking Mom
2. after asking mom
3. Hey friend, I have a new black Samsung phone.
```

![Chain Demo](/assets/img/post/2017-11-27/js-promise-chain-demo.gif)

**ฺุฑุงุ ฺูู ุฒูุฏฺฏ (ุง JS) ููุชุธุฑ ูฺ ฺฉุณ ููโูููู**

ุดูุงุ ุง ุฏุฑูุงูุน ูููู ุจฺูุ ุงุฒ ุจุงุฒ ฺฉุฑุฏู ุฏุณุช ููโฺฉุดุฏ ูููุน ฺฉู ููุชุธุฑุฏ ุชุง ูุงูุงูุชูู ุจู ูููุด (ุฎุฑุฏู ููุจุงู ุฌุฏุฏ) ุนูู ฺฉููุ ุบุฑ ุงุฒ ุงููุ ุงู ูููู ฺุฒู ฺฉู ูุง ุจูุด ูฺฏู asynchronousุ ฺฉุฏ ฺฉุงููุง ุงุฌุฑุง ูุดูุ ุจุฏูู ุงูฺฉู ุณุฑูุณููู ุฑู ุจูุงฺฉ ฺฉูู ุง ููุชุธุฑ ุฌูุงุจ ุจุดู. ูุฑูููุน ุฌูุงุจ ุฑุณุฏุ ุจูุด ูุงฺฉูุด ููุงุณุจ ุฑู ูุดูู ูุฏู. ูุฑฺฉุงุฑ ฺฉู ูุฑุงุฑู ูููุน ุนูู ฺฉุฑุฏู ูุงูุงู ุจู ูููุด  ุงูุฌุงู ุจุฏุฏุ ููุท ฺฉุงูู ุจุฒุงุฑูุด ุฏุงุฎู `.then` ๐ .

<h2 id="promises-in-variety-of-js">ูพุฑุงูุณ ุฏุฑ ES5ุ ES6, ES7</h2>

<b id="promise-in-es5">ES5 - ุฏุฑ ุงฺฉุซุฑ ูุฑูุฑฺฏุฑูุง ูพุดุชุจุงู ูุดู</b>

ุณุฑูุณ ฺฉู ููุดุชู ุฏุฑ ุงฺฉุซุฑ ูุฑูุฑฺฏุฑูุง ู ุงูุจุชู ุฏุฑ NodeJs ูุงุจู ุงุณุชูุงุฏู ุงุณุช. ุงูุจุชู ุฏุฑ ES5 ุงู ุงุจุฒุงุฑ ูููุฌูุฑ ูุงุจู ุงุณุชูุงุฏู ูุณุช ู ุจุฑุง ุงุณุชูุงุฏู ุงุฒุด ุจุงุฏ ุงุฒ ูุงุจุฑุฑ [Bluebird](http://bluebirdjs.com/docs/getting-started.html) ุงุณุชูุงุฏู ฺฉูุฏ. ุงูุจุชู ูุงุจุฑุฑ ูุนุฑูู ุฏฺฏูโุง ูู ุจุฑุง ุงูฺฉุงุฑ ูุณุช ุจู ุงุณู [Q](https://github.com/kriskowal/q) ฺฉู ุชูุณุท Kris Kowal ุชูุณุนู ุฏุงุฏู ุดุฏู.

<b id="promise-in-es6">ES6 - ุฏุฑ ูุฑูุฑฺฏุฑูุง ูุฏุฑูุ ู NodeJs v6 ูพุดุชุจุงู ูุดู</b>

ุณุฑูุณ ฺฉู ููุดุชู ุจุตูุฑุช ูุชู ุฏุฑ ES6 ุงุฌุฑุง ูุดู ู ุงุญุชุงุฌ ุจู ูฺ ูุงุจุฑุฑ ุฎุงุฑุฌ ูุฌูุฏ ูุฏุงุฑู. ุงูุจุชู ูุง ุฏุฑ ES6 ูุชููู ุจุง ุงุณุชูุงุฏู ุงุฒ `fat arrow =>` ูุงฺฉูฺฉุดูโูุง ฺฉุฏููู ุฑู ุณุงุฏูโุชุฑ ูู ุจููุณู.

```javascript
/* ES6 */
let isMomHappy = true;

//Promise
const willGetNewPhone = new Promise(
  (resolve, reject) => { //fat arrow
    if(isMomHappy) {
      let phone = {
        brand: 'iPhone X',
        color: 'gray'
      };
      resolve(phone);
    } else {
      let reason = new Error('Mom is angry.')
      reject(reason);
    }
  }
);

const showNewPhone = function (phone) {
	let message = 'Hey friend, I have a new ' + phone.color + ' ' + phone.brand +'.';
	return Promise.resolve(message)
}

// call our promise
const askMom = function () {
	willGetNewPhone
        .then(showNewPhone)
        .then(fulfilled => console.log(fulfilled)) // fat arrow
        .catch(error => console.log(error.message)); // fat arrow
}

askMom();
```

ุงฺฏู ุจุง ES6 ุขุดูุง ูุฏุงุฑุฏุ ุชูุฌู ฺฉูุฏ ฺฉู ูู ููู ูุชุบุฑ ูุง ฺฉู ูุงุจู ุชุบุฑ ุจูุฏูุฏ ุฑู ุจุง `let` ูุดุฎุต ฺฉุฑุฏู ู ุงูููุง ุฑู ูู ฺฉู immutable ู ุจุฏูู ุชุบุฑ ูุณุชูุฏ ุฑู ุจุง `const` ูุดุฎุต ฺฉุฑุฏู. ููู ูุงูฺฉุดููุง ูู ฺฉู ุจุตูุฑุช `function(arguments)` ุจูุฏ ุฑู ุจู `(argument) =>` ุชุบุฑ ุฏุงุฏู. ุจุฑุง ุขุดูุง ุจุดุชุฑ ุจุง ES6 ูโุชููุฏ ููฺฉโูุง ุฒุฑ ุฑู ูุทุงูุนู ฺฉูุฏ:

- [JavaScript ES6 Variable Declarations with let and const](https://strongloop.com/strongblog/es6-variable-declarations/)

- [An introduction to Javascript ES6 arrow functions](https://strongloop.com/strongblog/an-introduction-to-javascript-es6-arrow-functions/)

<b id="promise-in-es7">ES7 - ุงุณุชูุงุฏู ุงุฒ Async Await ุณูุชฺฉุณ ุฑู ูุงุจู ุฎููุฏู ูฺฉูู</b>

ุงฺฏู ูุฑุงุฑ ุจุงุดู ุงู ุณุฑูุณ ุฑู ุจุง ES7 ุจููุณูุ ูุชููู ุจุง ุงุณุชูุงุฏู ุงุฒ ุชฺฏ ูุง `async` ู `await` ฺฉุฏููู ุฑู ุชูุฒุชุฑ ฺฉูู. ุงูุทูุฑ ูุชููู `then` ู `catch` ุฑู ุงุฒ ฺฉุฏููู ุญุฐู ฺฉูู.

ูพุณ ฺุฒ ฺฉู ุฏุฑููุงุช ุจุงุฒููุณ ูฺฉูู ุฏุฑ ES7 ูุดู ุงู:

```javascript
/* ES7 */
let isMomHappy = true;

//Promise
const willGetNewPhone = new Promise(
  (resolve, reject) => { //fat arrow
    if(isMomHappy) {
      let phone = {
        brand: 'iPhone X',
        color: 'gray'
      };
      resolve(phone);
    } else {
      let reason = new Error('Mom is angry.')
      reject(reason);
    }
  }
);

//2nd promise
async showNewPhone = function (phone) {
	return new Promise(
        (resolve, reject) => {
            let message = 'Hey friend, I have a new ' + phone.color + ' ' + phone.brand +'.';
			return Promise.resolve(message)
        }
    );
}

//call our promise
async askMom = function () {
	try {
        console.log('before asking Mom');

        let phone = await willIGetNewPhone;
        let message = await showNewPhone(phone);

        console.log(message);
        console.log('after asking mom');
    }
    catch (error) {
        console.log(error.message);
    }
}

(async () => {
    await askMom();
})();
```

1. ูุฑูููุน ฺฉู ูุงุฒ ุฏุงุดุชุฏ ู ูพุฑุงูุณ return ฺฉูุฏุ ููุท ฺฉุงูู ูุชุฏ ููุฑุฏ ูุธุฑ ุฑู ุจุง `async` ูุดุงูู ฺฏุฐุงุฑ ฺฉูุฏ.
ุจุฑุง ูุซุงู:
   `async function showNewPhone(phone)`
2. ูุฑูููุน ฺฉู ุงุญุชุงุฌ ุฏุงุดุชุฏ ูพุฑุงูุณ ุฑู ูุฑุงุฎูุงู ฺฉูุฏุ ฺฉุงูู ูุจูุด ุจุง `await` ูุดุงููโฺฏุฐุงุฑ ฺฉูุฏ. ุจุฑุง ูุซุงู:
   `let phone = await willIGetNewPhone;` ู `let message = await showNewPhone(phone);`.
3. ู ุฏุฑ ููุงุช ุจุง ุงุณุชูุงุฏู ุงุฒ `try { ... } catch(error) { โฆ }` ูุชููุฏ ูุถู **resolved** ู **rejected** ูพุฑุงูุณ ุฑู ูู ููุฏู ฺฉูุฏ.

<h2 id="when-and-why-promises">ฺุฑุง ู ฺู ูููุน ุงุฒ Promise ุงุณุชูุงุฏู ฺฉููุ</h2>

ูุงูุนุง ฺุฑุง ุจู ูพุฑุงูุณ ุงุญุชุงุฌ ุฏุงุฑูุ ุฏูุง ูุจู ุงุฒ ูพุฑุงูุณ ฺู ุดฺฉู ุจูุฏุ ุจุฒุงุฑุฏ ูุจู ุงุฒ ุฌูุงุจ ุฏุงุฏู ุจู ุงู ุณูุงู ูุงุ ฺฉู ุจุฑฺฏุฑุฏู ุนูุจ ู ุจุจูู ูุจูุง ุงูุถุงุน ุฑู ฺุฌูุฑ ููุฏู ูโฺฉุฑุฏู.

**ูุชุฏ ูุนููู ุจุฑุง ุฌูุน ุฏู ุนุฏุฏ**

```javascript
// add two numbers normally
function add (num1, num2) {
    return num1 + num2;
}

const result = add(1, 2); // you get result = 3 immediately
```

**ูุชุฏ Async ุจุฑุง ุฌูุน ุฏู ุนุฏุฏ**

```javascript
// add two numbers remotely
// get the result by calling an API
const result = getAddResultFromServer('http://www.example.com?num1=1&num2=2');
// you get result  = "undefined"
```

ุงฺฏู ุดูุง ุนุฏุฏูุงุฑู ุจุง ูุชุฏ ูุนููู ุฌูุน ุจุฒูุฏุ ูููู ูุญุธู ุฌูุงุจุดู ูโฺฏุฑุฏ. ุงูุง ุจุฑุนฺฉุณุโ ููุช ูุฎูุงุฏ ุจู ฺฉ API ุฑฺฉูุฆุณุช ุจุฒูุฏ ฺฉู ุงู ุฏูุชุง ุนุฏุฏ ุฑู ุจุฑุงุชูู ุฌูุน ุจุฒููุ ุงูููููุน ุจุงุฏ ุตุจุฑ ฺฉูุฏ ุชุง ุฌูุงุจ ุจุฑฺฏุฑุฏูุโู ููโุชููุฏ ูููู ูุญุธู ุจู ุฌูุงุจุชูู ุจุฑุณุฏ.

ููุฑุฏ ุฏฺฏูโุง ูู ูุฌูุฏ ุฏุงุฑูุ ุงฺฏู ุดูุง ุจู ุงู ุดฺฉู ุจุฎูุงูุฏ ุฌูุงุจุชูู ุฑู ุจฺฏุฑุฏุ ูุนููู ูุณุช ฺฉู ุฌูุงุจ ุณุฑูุฑ ฺูุ ู ููฺฉูู ุญุช ุณุงุช ุฏุงู ุจุงุดูุ ุง ุณุฑุนุช ูพุงุณุฎฺฏู ุฎู ฺฉู ุจุงุดูุ ุง ูุฑ ูุดฺฉู ุฏฺฏูโุง. ู ุงูู ูู ูุฏููู ฺฉู ุดูุง ูุฑุงุฑ ูุณุช ฺฉู ุณุฑูุณุชูู ุฑู ุจูุงฺฉ ุง ูุฑุฒ ฺฉูุฏ ู ููุชุธุฑ ูุงุณุชุฏ ุชุง ุจูฺฉู ุจูุงุฎุฑู ุฌูุงุจ ุจุฑุณู.

ูุฑุงุฎูุงู APIูุงุ ุฏุงูููุฏ ฺฉุฑุฏู ูุงูุ ุฎูุงูุฏู ูุงู ู ฺุฒูุง ูุซู ุงูุ ููุงุฑุฏ ูุณุชูุฏ ฺฉู ุจุงุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุฏ ูุง Async ุจุงูุงุดูู ฺฉุงุฑ ฺฉุฑุฏ.

<h2 id="callback">ุฏูุง ูุจู ุงุฒ ูพุฑุงูุณ: Callback</h2>

ุขุง ุญุชูุง ุจุงุฏ ุงุฒ ูพุฑุงูุณ ุจุฑุง ูุฑุงุฎูุงู ูุชุฏูุง Async ุงุณุชูุงุฏู ฺฉููุ ุฎุฑ. ูุจู ุงุฒ ูพุฑุงูุณุ ูุง ุงุฒ callback ุงุณุชูุงุฏู ูโฺฉุฑุฏู.
ูุงูฺฉุดู callback ููุท ุจุฑุง ููุงูุน ฺฉู ูุฎูุงูู ูุชุฌู ุจุงุฒฺฏุดุช ุฑู ุฏุฑุงูุช ฺฉูู ุจู ฺฉุงุฑ ูุฑู. ุงุฌุงุฒู ุจุฏุฏ ุจุง ุชูุฌู ุจู ฺุฒ ฺฉู ุญุงูุง ุฑุงุฌุน ุจู ฺฉุงูโุจฺฉ ูุฏูููุ ูุชุฏ ูุจู ุฑู ุจุงุฒููุณ ฺฉูู.

```javascript
// add two numbers remotely
// get the result by calling an API

function addAsync (num1, num2, callback) {
    // use the famous jQuery getJSON callback API
    return $.getJSON('http://www.example.com', {
        num1: num1,
        num2: num2
    }, callback);
}

addAsync(1, 2, success => {
    // callback
    const result = success; // you get result = 3 here
});
```

ุฎุจุ ุจุง ุงู ุชูุตูุ ูพุณ ุฏฺฏู ุจู ูพุฑุงูุณ ฺู ุงุญุชุงุฌ ุฏุงุฑูุ

**ุงฺฏุฑ ูุฑุงุฑุจุงุดู ฺฉุณุฑ ุงฺฉุดูโูุง ูุชูุงู ุขุณูฺฉุฑูู ุงูุฌุงู ุจุฏุฏุ ฺฺฉุงุฑ ูโฺฉูุฏุ**

ุฎุจ ุจุฒุงุฑุฏ ุจุจูู ฺ ุฏุงุฑูุ ูุฑุงุฑ ุญุงูุง ุจุฌุง ุงูฺฉู ู ุจุงุฑ ุนูู ุฌูุน ุฑู ุงูุฌุงู ุจุฏูุ ณุจุงุฑ ุงูฺฉุงุฑู ุงูุฌุงู ุจุฏู. ุจุง ฺฉุฏ ุฒุฏู ูุนููู ููฺู ฺุฒ ูุดู:

```javascript
// add two numbers normally

let resultA, resultB, resultC;

 function add (num1, num2) {
    return num1 + num2;
}

resultA = add(1, 2); // you get resultA = 3 immediately
resultB = add(resultA, 3); // you get resultB = 6 immediately
resultC = add(resultB, 4); // you get resultC = 10 immediately

console.log('total' + resultC);
console.log(resultA, resultB, resultC);
```

ุญุงูุง ุงฺฏู ุจุฎูุงูู ูููู ฺฉุงุฑู ุจุง callback ุงูุฌุงู ุจุฏู ฺุทูุฑุ

```javascript
// add two numbers remotely
// get the result by calling an API

let resultA, resultB, resultC;

function addAsync (num1, num2, callback) {
    // use the famous jQuery getJSON callback API
    return $.getJSON('http://www.example.com', {
        num1: num1,
        num2: num2
    }, callback);
}

addAsync(1, 2, success => {
    // callback 1
    resultA = success; // you get result = 3 here

    addAsync(resultA, 3, success => {
        // callback 2
        resultB = success; // you get result = 6 here

        addAsync(resultB, 4, success => {
            // callback 3
            resultC = success; // you get result = 10 here

            console.log('total' + resultC);
            console.log(resultA, resultB, resultC);
        });
    });
});
```

ุงู syntax ุงุตูุง ูุฒุฑูุฑูุฏู ูุณุช. ุฎู ุฏฺฏู ุจุฎูุงู ุฎูุดุจู ุจุงุดูุ ูุซู ุงูุฑุงู ุซูุงุซู ุดุฏู! ๐ ุงูุง ุชูุณุนู ุฏููุฏูโูุง ุฎุงุฑุฌ ุจู ููฺู ฺุฒ ูฺฏู <Callback Hell>ุ ุจุฎุงุทุฑ ุงูฺฉู ูุฑ ฺฉุงูโุจฺฉ ุฏุฑ ุฏุงุฎู ุดฺฉู ฺฉุงูโุจฺฉ ุฏฺฏูโุง ูุฑุงุฑ ฺฏุฑูุชู. ุชุตูุฑ ฺฉูุฏ ฺฉู ฑฐุชุง ฺฉุงูโุจฺฉ ุฏุงุฑุฏุ ฺฉุฏุชูู ฑฐ ุจุงุฑ ููุณุช ูโุดุฏ!

<h2 id="scape-from-callback-hell">ูุฑุงุฑ ุงุฒ Callback Hell</h2>

ู ุฏุฑ ุงู ูุญุธู ุจูุฏ ฺฉู ููุฑูุงู ุฏุงุณุชุงู ูุงุ Promise ูุงุฑุฏ ุดุฏ ๐จ๐ปโ๐ค. ุจุฒุงุฑุฏ ุจุจูู ฺฉุฏููู ุญุงูุง ฺุทูุฑ ูุดู.

```javascript
// add two numbers remotely using observable

let resultA, resultB, resultC;

function addAsync(num1, num2) {
    // use ES6 fetch API, which return a promise
    return fetch(`http://www.example.com?num1=${num1}&num2=${num2}`)
        .then(x => x.json());
}

addAsync(1, 2)
    .then(success => {
        resultA = success;
        return resultA;
    })
    .then(success => addAsync(success, 3))
    .then(success => {
        resultB = success;
        return resultB;
    })
    .then(success => addAsync(success, 4))
    .then(success => {
        resultC = success;
        return resultC;
    })
    .then(success => {
        console.log('total: ' + success)
        console.log(resultA, resultB, resultC)
    });
```

ุจุง ุงุณุชูุงุฏู ุงุฒ ูพุฑุงูุณโูุงุ ูุง ุจุฌุง callback ุงุฒ `.then` ฺฉูฺฉ ูโฺฏุฑู. ุฏุฑ ููู ูฺฏุงู ุงูู ูุชูุฌู ูุดู ฺฉู ฺูุฏุฑ ฺฉุฏูุงููู ุจุง ุญุฐู ฺฉุงูโุจฺฉโูุง nested ุง ุชูุฏุฑุชู ุชุฑูุชูุฒุชุฑ ุดุฏู. ุงูุจุชู ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ ุณูฺฉุชุณ `asyn` ู `await` ฺฉุฏูุงููู ุจุงุฒู ุณุงุฏูโุชุฑ ู ุชุฑูุชูุฒุชุฑ ุงุฒ ฺุฒ ฺฉู ุงูุงู ูุณุช ูุดู. ุฏฺฏู ูุซุงู ุงู ุฑู ูู ูุฒุงุฑู ุจู ุนูุฏู ุฎูุฏุชูู ๐ฌ๐.

![Relaxing](/assets/img/post/2017-11-27/js-promise-relaxing.gif)

<h2 id="observable">ุนุถู ุฌุฏุฏ ุงู ุฎุงููุงุฏู: Observables</h2>

ูุจู ุงุฒ ุงูฺฉู ุฎู ุจุง ูพุฑุงูุณ ุญุงู ฺฉุฑุฏู ู ฺฉู ุฎูู ูุงุท ฺฉูุฏุ ุงู ุฑู ุจุงุฏ ุงุถุงูู ฺฉููุ ู ฺุฒ ูุฌูุฏ ุฏุงุฑู ฺฉู ูุถู ูุฏุฑุช ูุงูฺฉุดูโูุง async ุฑู ุงุฒ ุงู ฺฉู ูุณุช ูู ุขุณููุชุฑ ฺฉุฑุฏูุ ู ุจูุด ูฺฏู `Observable`.

ูุงุถุญุชุฑู ุชุนุฑู ฺฉู ูุชููู ุฑุงุฌุน ุจู Observabale ุจูุชูู ุจฺฏู ุงูู:

> ูุงุจูโูุดุงูุฏู ุง Observable ฺฉ ุฌุฑุงู ุงุฒ ุฑูุฏุงุฏโูุง ุชูุจูู ฺฉู ูุชููู ูุชููู ุตูุฑ ุง ุจโููุงุช ุฑูุฏุงุฏ ุฑู ููุชุดุฑ ฺฉููุ ู ุงู ูุถู ูุชููู ูพุงุงู ุฏุงุดุชู ุง ูุฏุงุดุชู ุจุงุดู.

ู ุงฺฏู ุจุฎูุงู ุณุงุฏูโุชุฑุด ฺฉูู:

> ูุงูฺฉุดู Observable ุงุฒ ุฎูุฏุด ููุงุฏุฑ ุฑู ููุชุดุฑ ูฺฉููุ ู ุจุง ฺฉ **Observer** ุง ูุดุงูุฏูโฺฏุฑ ูุชููู ุจุดูู ู ุงู ููุฏุงุฑ ุฑู ุฑูุตูุฏ ฺฉูู. ุฏุฑ ูุชุฌู ูุฑูููุน ุงู Observabale ุงุฒ ุฎูุฏุด ฺุฒ ููุชุดุฑ ฺฉุฑุฏุ ุณุฑุน ูุชูุฌู ูุดู ู ูุชูุงุณุจ ุจุง ุงู ููุฏุงุฑุ ุฑโุงฺฉุดู ููุฑุฏูุธุฑ ุฑู ูุดูู ุจุฏู.

ูุงูฺฉุดู ุง ููุงุฏุฑ Observable ุงุฒ ููููู  ReactiveX Programming ุงููุฏู ู ุฏุฑ ููู ุฒุจุงูโูุง ฺฉู ุงุฒ RX ูพุดุชุจุงู ูฺฉูู ูุฌูุฏ ุฏุงุฑูุ ุฏุฑ ุฌุงูุง ุงุณฺฉุฑูพุช ุจูุด ูฺฏู RxJs. ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ููฺฉโูุง ุฒุฑ ูุทุงูุจ ุฎูุจ ู ฺฉุงูู ุฏุงุฑูุฏ:

- [ReactiveX](http://reactivex.io/)
- [RxJS v4.0](https://xgrommx.github.io/rx-book/index.html)
- [Building realtime applications with CycleJS and RxJS](https://blog.pusher.com/building-realtime-applications-with-cyclejs-and-rxjs/)

ู ุจุฑุง ุขุดูุง ุจุดุชุฑ ุจุง Observable ูพุดููุงุฏ ูฺฉูู ููฺฉโูุง ุฒุฑ ุฑู ูุทุงูุนู ฺฉูุฏ:

- [Observable](http://reactivex.io/documentation/observable.html)
- [Observable object](https://xgrommx.github.io/rx-book/content/observable/index.html)
- [Introducing the Observable](https://egghead.io/lessons/javascript-introducing-the-observable)
- [Stream: Reactive Programming](https://cycle.js.org/streams.html)
- [Learning Observable By Building Observable](https://medium.com/@benlesh/learning-observable-by-building-observable-d5da57405d87)

ุงูุง ุจุฑฺฏุฑุฏู ุณุฑ ุจุญุซ ุฎูุฏููู. ฺฉุณุฑ ุชูุงูุชโูุง ุจู Observable ู Promise ูุฌูุฏ ุฏุงุฑู:

- Observable ูุงุจูุช ูุบู ุดุฏู ุฏุงุฑู (Cancellable)
- Observable ุงุตููุง ุชูุจูู (Lazy)

ูุชุฑุณูุ ุฏุฑ ุงุฏุงูู ู ูุซุงู ุฏุฑุจุงุฑู ุงูฺฉู ุงุฒ ุขุจุฒุฑูุจู ฺุทูุฑ ูุชููู ุงุณุชูุงุฏู ฺฉูู ุขูุฑุฏู. ุฏุฑ ูุซุงู ุฒุฑ ูู ุงุฒ ูุงุจูุชโูุง RxJs ุจุฑุง ูพุงุฏู ฺฉุฑุฏู Observable ุงุณุชูุงุฏู ฺฉุฑุฏู.

```javascript
let Observable = Rx.Observable;
let resultA, resultB, resultC;

function addAsync(num1, num2) {
    // use ES6 fetch API, which return a promise
    const promise = fetch(`http://www.example.com?num1=${num1}&num2=${num2}`)
        .then(x => x.json());

    return Observable.fromPromise(promise);
}

addAsync(1,2)
  .do(x => resultA = x)
  .flatMap(x => addAsync(x, 3))
  .do(x => resultB = x)
  .flatMap(x => addAsync(x, 4))
  .do(x => resultC = x)
  .subscribe(x => {
    console.log('total: ' + x)
    console.log(resultA, resultB, resultC)
  });
```

ูฺฉุชู:

- ูุชุฏ `Observable.fromPromise` ููุฏุงุฑ Promise ูุง ุฑู ุจู ู ุงุณุชุฑู ุงุฒ observable ุชุจุฏู ูโฺฉูู.
- ุงููพุฑุงุชูุฑูุง `.do` ู `.flatMap` ุจู ูุง ุฏุฑ ูุฏุฑุช ุฑูุฏุงุฏโูุง ููุชุดุฑู ุงุฒ Observable ฺฉูฺฉ ูโฺฉููุฏ.
- ุงุณุชุฑูโูุง Observable ุชูุจู ุง lazy ูุณุชูุฏ. ูุชุฏ `addAsync` ูููุน ุงุฌุฑุง ูุดู ฺฉู ูุง ุจูุด `.subscribe` ฺฉุฑุฏู ุจุงุดู.

ูุงูฺฉุดโูุง Observable ุงูฺฉุงูุงุช ุจุงุญุงูุชุฑ ูู ุจู ูุง ูโุฏู. ูุซูุง ุฏุฑ ูุซุงู ุฒุฑ ูู ุจุง ุงุณุชูุงุฏู ุงุฒ ุงููพุฑุงุชูุฑ `delay` ุจูุด ฺฏูุชู ุฏุฑ ุงุฌุฑุง ูุงูฺฉุดู ณฐฐฐููโุซุงูู ุชุงุฎุฑ ุงุฌุงุฏ ฺฉู ู ุจุนุฏ ฺฉุงุฑุชู ุงูุฌุงู ุจุฏู.

```javascript
...
addAsync(1,2)
  .delay(3000) // delay 3 seconds
  .do(x => resultA = x)
...
```

ุชุง ูููโุฌุงุฑู ุฏุงุดุชู ุจุงุดูุ ู ุงุฌุงุฒู ุจุฏู ุฑุงุฌุน ุจู Observable ุฏุฑ ู ูพุณุช ุฏฺฏู ููุตูโุชุฑ ุตุญุจุช ฺฉูู.

<h2 id="conclusion">ูุชุฌู ฺฏุฑ</h2>

ุณุน ฺฉูุฏ ุจุง ุงูุฌุงู ูุซุงูโูุง ุจุดุชุฑ ุง ูุทุงูุนู ููุงููโูุง ุฏฺฏู ุจุง Promiseูุง ู Callbackูุง ุจุดุชุฑ ุขุดูุง ุจุดุฏ. ุงูููุงุฑู ฺฉุงูู ุฏุฑฺฉ ฺฉูุฏ ู ูุงูุนุง ุฏุฑ ูพุฑูฺูโูุงุชูู ุงุณุชูุงุฏู ฺฉูุฏ. ุฏุฑุจุงุฑู Observable ูู ูฺฏุฑุงู ูุจุงุดุฏุ ุงู ู ููุถูุน ุฌุฏุฏู ู ุญุงูุง ุญุงูุง ููุช ูุณุช ูุงุณู ุงูฺฉู ุชูุด ููุงุฑุช ูพุฏุง ฺฉูุฏ.
ุฏูุจุงุฑู ุชฺฉุฑุงุฑ ูฺฉููุ ุจุง ูุฑุณู ุงู ููุงูู ู ุงุจุฒุงุฑูุง ุขุดูุง ุจุดุฏ ู ุจุจูุฏ ูุงูุนุง ฺฉุฌุง ุจุฏุฑุฏุชูู ูุฎูุฑูุ ุชุง ูุชูุงุณุจ ุจุง ุงูู ุงุฒุดูู ุงุณุชูุงุฏู ฺฉูุฏ.

ูโุชููุฏ ุงุฒ ููฺฉโูุง ุฒุฑ ูู ูุซุงู ฺฉู ุฏุฑุจุงุฑู `Mom Promise to buy new phone` ุฑู ุจุจูุฏ:

- [Mom Promise in ES5](https://gist.github.com/sadra/60429ffd4d5f1d8e7b0533c66d7f510d#file-mom-promise-in-es5-js)
- [Mom Promise in ES6](https://gist.github.com/sadra/60429ffd4d5f1d8e7b0533c66d7f510d#file-mom-promise-in-es6-js)
- [Mom Promise in ES7](https://gist.github.com/sadra/60429ffd4d5f1d8e7b0533c66d7f510d#file-mom-promise-in-es7-js)

ุฎุจ ููุด ููู ุจูุฏ. ุงูุฏูุงุฑู ูุจุญุซ Promise ุฑู ุณุงุฏู ุชูุถุญ ุฏุงุฏู ุจุงุดู ู ุดูุง ูู ุฑุงุญุช ุฏุฑฺฉ โุจุงุดูุด. ุงฺฏู ุณูุงู ุง ููุฑุฏ ุจูุฏุ ูุซู ููุดู ุฏุฑ [ุชูุชุฑ](https://twitter.com/sadra_amlashi) ุง ุฏุฑ [ุชูฺฏุฑุงู](https://t.me/amlashi) ูุชููู ุจุงูู ุฏุฑ ุงุฑุชุจุงุท ุจุงุดู. ๐๐ท
