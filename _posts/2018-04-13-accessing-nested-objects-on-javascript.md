---
layout: blog_post_rtl
title:  "ุฏุณุชุฑุณ ุจู Nested Objectูุง ุฏุฑ JavaScript"
description: "ุฏุณุชุฑุณ ุงูู ู ุฑุงุญุช ุจู Nested Objectูุง ุฏุฑ ุฒุจุงู JavaScript"
date: '2017-11-27'

tags:
- JavaScript
- ES6

categories:
- ุฌุงูุง ุงุณฺฉุฑูพุช
- ุขููุฒุด

cover: /assets/img/post/2018-04-13/undefined_access.jpg

author: Sadra
---

ููููุทูุฑ ฺฉู ุงุญุชูุงูุง ุฎูโูุงุชูู ุจุงูู ููโุนูุฏู ูุณุชูุ ุฌุงูุง ุงุณฺฉุฑูพุช ุฒุจุงู ุฏุฑ ุฏุณุชุฑุณุ ุฌุงูุจ ู ฺฏุงู ุงููุงุช ูููโุงูุนุงุฏูโุงู. ุงูุง ุจุนุถ ฺุฒุง ุชู ุฌุงูุง ุงุณฺฉุฑูพุช ูุณุช ฺฉู ูุงูุนุง ุนุฌุจู ู ุบุฑุจู! ฺฉ ุงุฒ ุงูู ฺุฒุงุ ููุชู ฺฉู ุณุน ูฺฉูู ู ุขุจุฌฺฉ ูุณุชุฏ ุดุฏู ุฑู ุจฺฏุฑู ู ูู ุงู ุฎุทุง ุจู ูุง ุจุฑูฺฏุฑุฏู:

> **Cannot read property 'foo' of undefined**

ุฎู ููุชุง ฺฉู ุฏุงุฑู ุฏุฑ ูพุฑูฺูโ ุฌุงูุง ุงุณฺฉุฑูพุช ฺฉุฏ ูุฒููุ ูุงุฒูู ฺฉู ุงุฒ ูุณุชุฏ ุขุจุฌฺฉุชโูุง ุงุณุชูุงุฏู ฺฉุฑุฏู ู ุฏุชุง ุฑู ุจุทูุฑ ุงูู ุฏุฑุงูุช ฺฉููุ ูู ุงูฺฉู ุงุฒู ุฎุทุงูุง ูุฒุฎุฑู ุจุฏู ู ฺฉุณุงุนุช ุจฺฏุฑุฏ ุจุจู ฺฉุฌุง ฺฉุงุฑู ุงุดุชุจุงู ุฑูุช ู ฺู ูุดฺฉู ุจูุฌูุฏ ุงููุฏู.

ูุฎูุงู ุจุจูู ุจุฑุง ุญู ุงู ูุดฺฉู ฺู ฺฉุงุฑุง ูุดู ุงูุฌุงู ุฏุงุฏุ ุจุงุฏ ุจุง ู ูุซุงู ุจุฑู ุฌูููุ ูุฑุถ ฺฉูู ููฺู ุขุจุฌฺฉุช ุฏุงุฑู:

```javascript
const user = {
    id: 101,
    email: 'sadra@dev.com',
    personalInfo: {
        name: 'Sadra',
        address: {
            line1: 'kakh square',
            line2: '5 azar st',
            city: 'gorgan',
            state: 'GOLESTAN'
        }
    }
}
```

ุจุฑุง ุฏุณุชุฑุณ ุจู ุงุณู ุง ุดูุฑ userููู ุงูุฌูุฑ ูููุณู:

```javascript
const name = user.personalInfo.name;
const userCity = user.personalInfo.address.city;
```

ุฎุจ ุงู ุณุงุฏู ู ูุณุชููู.

ุงูุง ู ูููุนโูุง ุงุตูุง ุขุจุฌฺฉุช user ููุฏ ุจู ูุงู personalInfo ูุฏุงุฑู.  (ุงูุงูุฎุตูุต ููุช ุฏุงุฑ ุจุง ุฏุชุงุจุณโูุง non-relational ูุซู mongo ฺฉุงุฑ ูฺฉู). ุงูููู ุขุจุฌฺฉุชุช ุงู ุดฺฉู ูุดู:

```javascript
const user = {
    id: 101,
    email: 'jack@dev.com'
}
```

ุฎุจ ุญุงูุง ููุช ุชูุงุด ูฺฉู ฺฉู ุจู ููุฏุงุฑ name ุฏุณุชุฑุณ ูพุฏุง ฺฉูุ ุจุง ุฎุทุง *Cannot read property 'name' of undefined* ููุงุฌู ูุด.

```javascript
const name = user.personalInfo.name; // Cannot read property 'name' of undefined
```

ุงู ุจุฑุง ุงูู ฺฉู ุณุน ูฺฉูู ุจู ุขุจุฌฺฉุช `name` ุฏุณุชุฑุณ ูพุฏุง ฺฉููุ ุฏุฑุญุงู ฺฉู ุญุช ูุฌูุฏ ุฎุงุฑุฌ ูุฏุงุฑู!

ูุนูููโุชุฑู ุฑุงู ุจุฑุง ุญู ุงู ูุดฺฉู ฺฉู ุฎูโูุง ูู ุงุณุชูุงุฏู ูฺฉูู ุงูู:

```javascript
const name = user && user.personalInfo ? user.personalInfo.name : null;
// undefined error will NOT be thrown as we check for existence before access
```

ุฎุจ ุงูู ู ุฑุงููุ ูู ุชุง ูููุน ฺฉู ุขุจุฌฺฉุชุช ูุซู ฺุฒ ฺฉู ุจุงูุง ูุซุงู ุฒุฏู ุณุงุฏู ุจุงุดู. ุงฺฏู ู ุขุจุฌฺฉุช ุชูุฏุฑุชู ุชุง ต ถ ูุฑุญูู ุฏุงุดุชู ุจุงุดูุ ุงูููููุน ุฏุณุชูุฑ ุดุฑุท ฺฉู ูููุณู ู ฺุฒ ุงุญููุงูู ู ุนุฌุจ ูุฑุจ ูุซู ุงู ูุดู:

```javascript
let city;
if (
    data && data.user && data.user.personalInfo &&
    data.user.personalInfo.addressDetails &&
    data.user.personalInfo.addressDetails.primaryAddress
   ) {
    city = data.user.personalInfo.addressDetails.primaryAddress;
}
```

ุงูุฌุง ฺูุฏุชุง ุฑุงู ุญู ูุณุช ุชุง ุจุชููู ุงู ูุถู ุฑู ุจู ุฏุฑุณุช ููุฏู ฺฉูู.

## ุงูฺฏู ุฏุณุชุฑุณ ุจู ูุณุชุฏ ุขุจุฌฺฉุชู Oliver Steele

ุงู ฺฉ ุงุฒ ูุญุจูุจโุชุฑู ุฑูุดโูุง ุฏุณุชุฑุณ ุจู ฺฉ ุด ูุณุชุฏ ูุณุช ฺฉู ฺฉุงุฑ ุฑู ฺฉู **ุณุงุฏู** ู **ุชูุฒ** ูฺฉูู. ูู ุงู ุฑุงู ุญู ุฑู ุฎู ููุช ูพุด ุชู  **[Stackoverflow](https://stackoverflow.com/a/4034468/5330668)** ูพุฏุง ฺฉุฑุฏู ุจูุฏู ู ุจูุธุฑู ุฎู ุญุฑููโุง ูููุฏ.

```javascript
const name = ((user || {}).personalInfo || {}).name;
```

ุจุง ุงู notationุง ฺฉู ุงุณุชูุงุฏู ฺฉุฑุฏูุ ุนูุฑุง ุฏฺฏู ุจู ุฎุทุง *Cannot read property 'name' of undefined* ุจุฑุจุฎูุฑู ๐ฌ.

ุงฺฏู ุจุฎูุงู ุฑูุด ฺฉูู ฺฉู ุฏููุง ฺฺฉุงุฑ ฺฉุฑุฏูุ ุจุงุฏ ุจฺฏู ุฏุงุฑู ฺฺฉ ูฺฉูู ุงฺฏุฑ ุขุจุฌฺฉุช `user` ูุฌูุฏ ูุฏุงุฑู ู ุขุจุฌฺฉุช ุฎุงู ูููุฌูุฑ ุฑู ููุง ุจุณุงุฒ ู ุงฺฏู ูุฌูุฏ ุฏุงุดุชุ ูุฑุญูู ูุฑุญูู ุฌูู ูุฑู ุชุง ุจู property ููุฑุฏ ูุธุฑููู ุจุฑุณู. ู ุงู ุจุงุนุซ ูุดู ฺฉู **ุชุงูฺููุชู ุชุงุฑุฎุ ุจู ุฎุทุงู ูุจูุฏูู ุดู ููุฑุฏู ูุธุฑ** ุจุฑ ูุฎูุฑู!

ุงูุง ุฎุจุ ูุชุงุณูุงูู ุจุง ุงู ุฑูุด ููุชููู ุจู **nester array object** ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดู!

![Screaming from js](/assets/img/post/2018-04-13/screaming_from_js.gif)

## ุงุณุชูุงุฏู ุงุฒ Array Reduce ุจุฑุง ุฏุณุชุฑุณ ุจู ุขุจุฌฺฉุช ุงุฒ ุขุฑุงูโ ูุณุชุฏ ุดุฏู!

ูุชุฏ Array Reduce ู ุฑุงู ูุฏุฑุชููุฏ ู ุงูู ุจุฑุง ุฏุณุชุฑุณ ุจู ููฺู ููุงุฑุฏ ูุณุช. ุจู ูุซุงู ุชูุฌู ฺฉูุฏ.

``` javascript
const getNestedObject = (nestedObj, pathArr) => {
    return pathArr.reduce((obj, key) =>
        (obj && obj[key] !== 'undefined') ? obj[key] : undefined, nestedObj);
}

// pass in your object structure as array elements
const name = getNestedObject(user, ['personalInfo', 'name']);

// to access nested array, just pass in array index as an element the path array.
const city = getNestedObject(user, ['personalInfo', 'addresses', 0, 'city']);
// this will return the city from the first address item.
```

## ฺฉุชุงุจุฎููู Typy

ู ุฏุฑ ููุงุชุ ุงู ฺฉุชุงุจุฎููู ูุชููู ุญูุงู ููู ูุดฺฉูุงุชุชูู ุจุงุดู. 

ุงู ฺฉุชุงุจุฎููู ุนูุงูู ุจู ุงูฺฉู ุจูุชูู ฺฉูฺฉ ูฺฉูู ุชุง ุจู ุฑุงุญุช ู ุจุง ุฎุงู ุฑุงุญุช ุจู ูุฑ ุขุจุฌฺฉุช ูุณุชุฏ ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏุ ุจูฺฉู ฺฉู ุงูฺฉุงูุงุช ุฏฺฏู ูู ุฏุฑ ุฎุชุงุฑุชู ูฺฏุฐุงุฑู. ุงู ุงุจุฒุงุฑ ฺฉุงุฑุจุฑุฏ ุงุฒ ุทุฑู ฺฉุชุงุจุฎููู npm ุฏุฑ ุฏุณุชุฑุณ ุดูุงุณุช - [Typy](https://github.com/flexdinesh/typy)

ุฎุจุ ุจุฑุง ูููู ูุซุงู ุจุงูุง ุงฺฏู ุจุฎูุงู ุงุฒ Typy ุงุณุชูุงุฏู ฺฉููุ ุงูุฌูุฑ ูุดู

```javascript
import t from 'typy';

const name = t(user, 'personalInfo.name').safeObject;
const city = t(user, 'personalInfo.addresses[0].city').safeObject;
// address is an array
```

## ฺฉูุงู ุขุฎุฑ

ฺฉู ุฑุงู ุญู ูุฎุชูู ุจุฑุง ุญู ุงู ูุดฺฉู ูุฌูุฏ ุฏุงุฑู ฺฉู ูุชููุฏ ุฏุฑ [ุงู ฺฉุงููุช](https://stackoverflow.com/a/41532415/5330668) ฑฐ ุชุงุดููู ุจุจููุ ูู ุฎุจ ูู ุณุน ฺฉุฑุฏู ุจู ุงูู ฒ ณ ุชุง ฺฉู ูุงูุนุง ุจุฏุฑุฏ ุจุฎูุฑ ุจูุฏู ุจูพุฑุฏุงุฒู.

ุงูุจุชู ู ุณุฑ ูุงุจุฑุฑ ุฏฺฏู ูู ูุณุชู ฺฉู ุฎู ูุชููู ุชู ุงู ูุถู ฺฉูฺฉุชูู ฺฉููุ ฺฉุชุงุจุฎูููโูุง ูุซู Lodash ู Ramda.

ุงูุง ุฏุฑ ูพุฑูฺูโโูุง ฺฉู ฺฉุฏูุงุชูู ูุงุฒูู ุฏุฑ ุณุจฺฉโุชุฑู ุญุงูุช ููฺฉูู ูุฑุงุฑ ุจฺฏุฑู (ูุซูุง ูพุฑูฺูโูุง front-end) ู ุงูุงูุฎุตูุต ุฌุงูุง ฺฉู ุจู ฺฉ ุฏู ุชุง ุงุฒู ูุชุฏโูุง ุจุดุชุฑ ุงุญุชุงุฌ ูุฏุงุฑูุ ุณุน ฺฉูู ุดุฎุตุง ฺฉุฏ ู ูุชุฏ ููุฑุฏูุงุฒุชูู ุฑู ุจููุณู ู ุฎูุฏุชูู ุฑู ููุดู ุงุฒ ุดุฑ ุฏูพูุฏูุณโูุงู ูุงุจุฑุฑูุง ุนุฌุจ ุบุฑุจ ููุดู ุฏุฑ ุงูุงู ูฺฏูุฏุงุฑุฏ ๐.

ุงฺฏู ุณูุงู ุง ููุฑุฏ ุจูุฏุ ูุซู ููุดู ุฏุฑ [ุชูุชุฑ](https://twitter.com/sadra_amlashi) ุง ุฏุฑ [ุชูฺฏุฑุงู](https://t.me/amlashi) ูุชููู ุจุงูู ุฏุฑ ุงุฑุชุจุงุท ุจุงุดู. ๐๐ท
